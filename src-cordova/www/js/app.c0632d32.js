(function(t){function e(e){for(var i,r,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)r=s[u],o[r]&&d.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},r={app:0},o={app:0},a=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-03cf6588":"666ab5f9","chunk-2c76efa8":"152043af","chunk-2d0a45c9":"05f96b08","chunk-2d0b9d6a":"bc02ab2c","chunk-2d0d3866":"deec3e90","chunk-2d0d6908":"f1034ac0","chunk-2d0db333":"d605253a","chunk-2d0e149e":"51f63148","chunk-2d21a999":"216ff1f9","chunk-2d22ca91":"a3c9ffcb","chunk-2d237ec0":"e0bf5a92","chunk-378a5440":"85d87dd1","chunk-276e6c5c":"c2f4e836","chunk-2d0b24da":"b779da81","chunk-2d0db208":"99c9aaed","chunk-2d0b5a16":"c319b2b7","chunk-467d9500":"8fa188cf","chunk-528e0847":"0812247f","chunk-63f474ab":"93135832","chunk-68e806f4":"51470c32","chunk-6a2ef4d5":"4764b1f8","chunk-a4f6d3fe":"c5df571f","chunk-cc8399da":"f8d9ad4e","chunk-cfa69e1c":"8158f6c7","chunk-2d0bdf87":"57f2664d","chunk-2d213143":"0f5f5ed3","chunk-2d21e19b":"9a53a065","chunk-d6f7478a":"e424247f"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-03cf6588":1,"chunk-2c76efa8":1,"chunk-378a5440":1,"chunk-276e6c5c":1,"chunk-467d9500":1,"chunk-63f474ab":1,"chunk-68e806f4":1,"chunk-6a2ef4d5":1,"chunk-a4f6d3fe":1,"chunk-cc8399da":1,"chunk-cfa69e1c":1,"chunk-d6f7478a":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-03cf6588":"b1ecc611","chunk-2c76efa8":"0d6fa305","chunk-2d0a45c9":"31d6cfe0","chunk-2d0b9d6a":"31d6cfe0","chunk-2d0d3866":"31d6cfe0","chunk-2d0d6908":"31d6cfe0","chunk-2d0db333":"31d6cfe0","chunk-2d0e149e":"31d6cfe0","chunk-2d21a999":"31d6cfe0","chunk-2d22ca91":"31d6cfe0","chunk-2d237ec0":"31d6cfe0","chunk-378a5440":"8797212f","chunk-276e6c5c":"1b195414","chunk-2d0b24da":"31d6cfe0","chunk-2d0db208":"31d6cfe0","chunk-2d0b5a16":"31d6cfe0","chunk-467d9500":"dabb0e58","chunk-528e0847":"31d6cfe0","chunk-63f474ab":"8fd6e47e","chunk-68e806f4":"bacf7b5a","chunk-6a2ef4d5":"3a54dda9","chunk-a4f6d3fe":"b1ecc611","chunk-cc8399da":"b1ecc611","chunk-cfa69e1c":"e1f1b43f","chunk-2d0bdf87":"31d6cfe0","chunk-2d213143":"31d6cfe0","chunk-2d21e19b":"31d6cfe0","chunk-d6f7478a":"a4d93dd4"}[t]+".css",o=c.p+i,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===i||u===o)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.request=i,delete r[t],h.parentNode.removeChild(h),n(a)},h.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(h)}).then(function(){r[t]=0}));var i=o[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise(function(e,n){i=o[t]=[e,n]});e.push(i[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+i+": "+r+")");a.type=i,a.request=r,n[1](a)}o[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("19b3"),r=n.n(i);r.a},"07a4":function(t,e,n){"use strict";var i,r,o,a,s,c=n("2b0e"),l=n("2f62"),u=n("9e56"),d=n("bd86"),h=n("9fb0"),f={drawer:!1,pullToRefreshMethod:null,pullToLoadMoreMethod:null,showSearch:!1,history:[]},p=(i={},Object(d["a"])(i,h["f"],function(t,e){t.drawer=e}),Object(d["a"])(i,h["i"],function(t,e){t.pullToRefreshMethod=e}),Object(d["a"])(i,h["k"],function(t,e){t.showSearch=e}),Object(d["a"])(i,h["h"],function(t,e){t.pullToLoadMoreMethod=e}),Object(d["a"])(i,h["c"],function(t){t.pullToLoadMoreMethod=null}),Object(d["a"])(i,h["d"],function(t){t.pullToRefreshMethod=null}),i),m={drawer:function(t){return t.drawer},pullToRefreshMethod:function(t){return t.pullToRefreshMethod},pullToLoadMoreMethod:function(t){return t.pullToLoadMoreMethod},isShowSearch:function(t){return t.showSearch}},b={state:f,mutations:p,getters:m},g=n("500f"),v={type:null,message:null,error:null},_=(r={},Object(d["a"])(r,g["j"],function(t,e){var n=t.commit;n(h["l"],e)}),Object(d["a"])(r,g["h"],function(t,e){var n=t.commit;n(h["g"],e)}),Object(d["a"])(r,g["b"],function(t,e){var n=t.commit;n(h["a"],e)}),r),y=(o={},Object(d["a"])(o,h["l"],function(t,e){t.type="alert-success",t.message=e}),Object(d["a"])(o,h["g"],function(t,e){t.type="alert-danger",t.error=e}),Object(d["a"])(o,h["a"],function(t){t.type=null,t.message=null,t.error=null}),o),k={type:function(t){return t.type},error:function(t){return t.error},message:function(t){return t.message}},C={namespaced:!0,state:v,actions:_,getters:k,mutations:y},S={NONE:-1},w={request:S.NONE},I=(a={},Object(d["a"])(a,h["j"],function(t,e){t.request=e}),Object(d["a"])(a,h["a"],function(t){t.request=S.NONE}),a),O=(s={},Object(d["a"])(s,g["i"],function(t,e){var n=t.commit;n(h["j"],e)}),Object(d["a"])(s,g["b"],function(t){var e=t.commit;e(h["a"])}),s),E={request:function(t){return t.request}},T={namespaced:!0,state:w,actions:O,getters:E,mutations:I},x=(n("f559"),n("3284")),j=n("db49"),N=function(t){t.subscribe(function(t,e){t.type.startsWith("alert/")&&x["b"].$emit(j["k"].ALERT,{type:t.type})})};c["a"].use(l["a"]);e["a"]=new l["a"].Store({modules:{auth:u["b"],alert:C,settings:b,request:T},plugins:[N]})},"0a2a":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500",fullscreen:t.$vuetify.breakpoint.smAndDown},model:{value:t._visible,callback:function(e){t._visible=e},expression:"_visible"}},[n("v-card",[n("v-card-title",[n("v-spacer"),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.$emit("update:visible",!1)}}},[t._v("fas fa-times")])],1),n("v-card-text",{staticClass:"pb-0"},[n("v-form",[n("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":t.errors.collect("value"),name:"value",type:"text",label:t.placeholder},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"white--text",attrs:{color:"green darken-2"},on:{click:t.doOk}},[t._v(t._s(t.okCaption))]),n("v-btn",{staticClass:"primary",on:{click:t.cancel}},[t._v("Отменить")])],1)],1)],1)},r=[],o={name:"TextareaDialog",data:function(){return{form:{value:""}}},props:{visible:Boolean,placeholder:String,okCaption:String,ok:Function,requiredText:String},methods:{resetForm:function(){this.form.value="",this.$validator.reset()},doOk:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.ok(t.form.value),t.resetForm(),t.loading=!0)})},cancel:function(){this.$emit("update:visible",!1)}},created:function(){var t=this;this.$validator.localize("ru",{custom:{value:{required:function(){return t.requiredText}}}})},computed:{_visible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t),this.resetForm()}}}},a=o,s=n("2877"),c=n("6544"),l=n.n(c),u=n("8336"),d=n("b0af"),h=n("99d9"),f=n("12b2"),p=n("169a"),m=n("4bd4"),b=n("132d"),g=n("9910"),v=n("a844"),_=Object(s["a"])(a,i,r,!1,null,"34f3eb85",null);e["a"]=_.exports;l()(_,{VBtn:u["a"],VCard:d["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:f["a"],VDialog:p["a"],VForm:m["a"],VIcon:b["a"],VSpacer:g["a"],VTextarea:v["a"]})},"14a9":function(t,e,n){},1605:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.category?n("v-card",{attrs:{to:t.disableLink?void 0:"/categories/"+t.category.id,height:t.height,tile:""}},[n("v-img",{attrs:{height:t.height,src:t.imageSrc},on:{load:function(e){t.loading=!1}}},[t.loading?n("v-layout",{attrs:{slot:"placeholder","fill-height":"","align-center":"","justify-center":"","ma-0":""},slot:"placeholder"},[n("progress-circular")],1):n("v-container",{attrs:{"fill-height":"",fluid:"","pa-2":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("span",{staticClass:"font-weight-bold display-1 white--text",domProps:{textContent:t._s(t.category.name)}})])],1)],1)],1):t._e()},r=[],o=(n("c5f6"),n("22b8")),a=n("29c5"),s={name:"CategoryCard",components:{ProgressCircular:a["a"]},data:function(){return{loading:!0}},props:{height:{type:Number,default:void 0},disableLink:{type:Boolean,default:!1},category:{type:Object}},computed:{imageSrc:function(){return o["a"].getCategoryResourceUrl(this.category.imagePath)}}},c=s,l=n("2877"),u=n("6544"),d=n.n(u),h=n("b0af"),f=n("a523"),p=n("adda"),m=n("a722"),b=Object(l["a"])(c,i,r,!1,null,"76fd6334",null);e["a"]=b.exports;d()(b,{VCard:h["a"],VContainer:f["a"],VImg:p["a"],VLayout:m["a"]})},"19b3":function(t,e,n){},"1b98":function(t,e,n){"use strict";var i=n("774e"),r=n.n(i),o=n("f499"),a=n.n(o),s=n("795b"),c=n.n(s),l=n("d91a"),u=n("bc3a"),d={getCategories:f,getCategory:h,getBiographies:p,remove:m,edit:b,create:g};function h(t){return u.get(Object(l["b"])("categories/")+t)}function f(t,e){return u.get(Object(l["b"])("categories")+"?limit="+t+"&offset="+e)}function p(t,e,n,i,r,o,a,s){var c="limit="+n+"&offset="+i;return r&&(c+="&autobiographies=true"),o&&(c+="&biographyClampSize="+o),a&&(c+="&query="+a),s&&(c+="&"+s),u.get(Object(l["b"])("categories/"+e+"/biographies")+"?"+c,{cancelToken:t})}function m(t){return u.delete(Object(l["b"])("categories/"+t))}function b(t,e){return u({method:"put",data:e,url:Object(l["b"])("categories/"+t),config:{headers:{"Content-Type":"multipart/form-data"}}})}function g(t){return u({method:"post",data:t,url:Object(l["b"])("categories"),config:{headers:{"Content-Type":"multipart/form-data"}}})}var v=n("1f25"),_=new v({max:0,maxAge:36e5}),y=new v({max:0,maxAge:36e5}),k=new v({max:0,maxAge:36e5});e["a"]={getCategories:S,getCategory:C,getBiographies:w,remove:I,edit:O,create:E};function C(t){return!navigator.onLine&&_.has(t)?c.a.resolve(_.get(t)):new c.a(function(e,n){d.getCategory(t).then(function(n){_.set(t,n),e(n)},function(t){n(t)})})}function S(t,e){var n=a()(arguments);return!navigator.onLine&&y.has(n)?c.a.resolve(y.get(n)):new c.a(function(i,r){d.getCategories(t,e).then(function(t){y.set(n,t),i(t)},function(t){r(t)})})}function w(t,e,n,i,o,s,l,u){var h=a()(r()(arguments).splice(1));return!navigator.onLine&&k.has(h)?c.a.resolve(k.get(h)):new c.a(function(r,a){d.getBiographies(t,e,n,i,o,s,l,u).then(function(t){k.set(h,t),r(t)},function(t){a(t)})})}function I(t){return y.del(t),d.remove(t)}function O(t,e){return y.del(t),d.edit(t,e)}function E(t){return d.create(t)}},"22b8":function(t,e,n){"use strict";var i=n("d91a"),r=n("db49");function o(t){return Object(r["r"])()?Object(i["c"])("upload/category/"+t):window.location.origin+"/upload/category/"+t}function a(t){return window.location.origin+"/upload/temp/"+t}function s(){return Object(r["r"])()&&Object(i["c"])("upload"),window.location.origin+"/upload"}function c(){return Object(i["b"])("media")}e["a"]={getCategoryResourceUrl:o,getShareResourceUrl:a,getMediaResourceUrl:s,getMediaUploadUrl:c}},"29c5":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-progress-circular",{attrs:{size:t.size,width:t.width,color:t.color,indeterminate:""}})},r=[],o=(n("c5f6"),{name:"ProgressCircular",props:{size:{type:Number,default:50},width:{type:Number,default:4},color:{type:String,default:"primary"}}}),a=o,s=n("2877"),c=n("6544"),l=n.n(c),u=n("490a"),d=Object(s["a"])(a,i,r,!1,null,"491ad503",null);e["a"]=d.exports;l()(d,{VProgressCircular:u["a"]})},"2c57":function(t,e,n){"use strict";var i=n("cebc"),r=n("9fb0"),o=n("2f62");e["a"]={methods:Object(i["a"])({},Object(o["d"])({setPullToRefresh:r["i"],removePullToRefresh:r["d"]})),computed:Object(i["a"])({},Object(o["c"])(["pullToRefreshMethod"])),mounted:function(){this.setPullToRefresh(this.pullToRefresh)},beforeDestroy:function(){this.removePullToRefresh()}}},"2d84":function(t,e,n){},"2edb":function(t,e,n){"use strict";var i=n("52dc"),r=n.n(i);r.a},"2f14":function(t,e,n){"use strict";n("4917"),n("8449");var i=n("03cc"),r=n.n(i),o=(n("7f7f"),n("28a5"),n("f559"),n("db49"));function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",i=arguments.length>3?arguments[3]:void 0,r={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},o=window.pageYOffset,a="now"in window.performance?performance.now():(new Date).getTime(),s=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),c=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,l="number"===typeof t?t:t.offsetTop,u=Math.round(s-l<c?s-c:l);if("requestAnimationFrame"in window===!1)return window.scroll(0,u),void(i&&i());function d(){var t="now"in window.performance?performance.now():(new Date).getTime(),s=Math.min(1,(t-a)/e),c=r[n](s);window.scroll(0,Math.ceil(c*(u-o)+o)),window.pageYOffset!==u?requestAnimationFrame(d):i&&i()}d()}function s(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function c(t){var e=t;return e.startsWith("+")&&(e=e.substring(1)),e=e.split(" ").join(""),e}function l(t,e){for(var n=[],i=0,r=0;r<t.length;++r){var o=t[r],a={id:o.id,level:o.level,name:o.name,children:[]};if(n.push(a),i=u(o,a,++i,e),i>e)break}return n}function u(t,e,n,i){if(t.children&&n<=i)for(var r=0;r<t.children.length;++r){var o=t.children[r],a={id:o.id,level:o.level,name:o.name,children:[]};return e.children.push(a),u(o,a,++n,i)}return n}function d(t,e){for(var n=[],i=[],r=0;r<t.length;r++)n[t[r]]=!0;for(var o=0;o<e.length;o++)n[e[o]]?delete n[e[o]]:n[e[o]]=!0;for(var a in n)i.push(a);return i}function h(t,e){var n=r()(t),i=r()(e);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(t[a]!==e[a])return!1}return!0}function f(t){var e=[],n=[];return t.forEach(function(t){var i=t.level,r=t.content,o={id:t.anchor,level:i,name:r,children:[]};if(1===i)e.push(o),n.push(o);else{var a=n[n.length-1];while(a.level>=i)n.pop(),a=n[n.length-1];a.children.push(o),n.push(o)}}),e}function p(t,e){var n=null;return function(){clearTimeout(n),n=setTimeout(function(){t.call()},e)}}function m(){return!(!navigator.userAgent.match(/Android/i)||Object(o["r"])())}function b(){return!!navigator.userAgent.match(/Android/i)}e["a"]={getNTreeLevels:l,arrDiff:d,isEquivalent:h,createToc:f,cleanPhone:c,isValidEmail:s,throttle:p,scrollIt:a,isSupportedBrowser:m,isAndroidBrowser:b}},3268:function(t,e,n){},3284:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2b0e"),r=new i["a"],o="search";e["b"]=r},"3e14":function(t,e,n){},"3f55":function(t,e,n){"use strict";n("06db");var i=n("4eef"),r="https://oauth.vk.com/blank.html",o={AUTHORIZATION_CODE:"code",IMPLICIT_GRANT:"token"},a=n("500f"),s=n("db49"),c=n("07a4"),l=n("41cb"),u=n("1816");function d(t){switch(t){case b.VK:return r}return null}function h(t){switch(t){case b.VK:return r}return null}function f(t){var e=o.AUTHORIZATION_CODE,n=h(t);c["a"].dispatch("request/"+a["i"],s["m"].OAUTH_REQUEST),i["a"].getOauthUrl(t,e,n).then(function(e){var i=window.cordova.InAppBrowser.open(e.data,"_blank","location=yes");i.addEventListener("loadstart",function(e){if(0===e.url.indexOf(n)){var r=new u(e.url),o=r.hash,a=o.indexOf("code="),s=o.substring(a+5),c="/signUp/"+t+"/callback?code="+s;console.log(c),i.close(),l["a"].push(c)}}),i.addEventListener("loaderror",function(t){console.log("error "+t)})}).finally(function(){c["a"].dispatch("request/"+a["b"])})}function p(t){var e=o.AUTHORIZATION_CODE,n=h(t);c["a"].dispatch("request/"+a["i"],s["m"].OAUTH_REQUEST),i["a"].getOauthUrl(t,e,n).then(function(e){var i=window.cordova.InAppBrowser.open(e.data,"_blank","location=yes");i.addEventListener("loadstart",function(e){if(0===e.url.indexOf(n)){var r=new u(e.url),o=r.hash,a=o.indexOf("code="),s=o.substring(a+5),c="/signIn/"+t+"/callback?code="+s;console.log(c),i.close(),l["a"].push(c)}}),i.addEventListener("loaderror",function(t){console.log("error "+t)})}).finally(function(){c["a"].dispatch("request/"+a["b"])})}var m={signUp:f,signIn:p,getSignInRedirectUri:d,getSignUpRedirectUri:h};n.d(e,"a",function(){return b}),n.d(e,"b",function(){return g});var b={SIMPLE:"simple",VK:"vk",FACEBOOK:"facebook"},g=m},"41cb":function(t,e,n){"use strict";var i=n("bfb3"),r=n.n(i),o=n("70f1"),a=n.n(o),s=n("e814"),c=n.n(s),l=(n("7f7f"),n("2b0e")),u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("list",{attrs:{"infinite-load":t.infiniteLoad,"infinite-id":t.infiniteId,"reset-id":t.resetId,"delete-id":t.deleteId,"delete-index":t.deleteIndex,"header-slot":t.categoryId},on:{"update:infiniteId":function(e){t.infiniteId=e},"update:infinite-id":function(e){t.infiniteId=e}},scopedSlots:t._u([t.$vuetify.breakpoint.smAndDown?{key:"listHeader",fn:function(){return[n("v-text-field",{staticClass:"search-field ml-2 mr-2",attrs:{"hide-details":"",solo:"",flat:"",light:"",placeholder:"Поиск","single-line":"",height:"30"},on:{input:t._throttleSearch},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[n("v-icon",{attrs:{small:"",color:"blue darken-3"}},[t._v("fas fa-search")])]},proxy:!0}],null,!1,708777262),model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})]},proxy:!0}:null,{key:"item",fn:function(e){var i=e.item,r=e.index;return[n("biography-card2",t._b({attrs:{"biography-clamp":"","tree-clamp":"","tree-clamp-size":t._treeClampSize},on:{"biography-removed":function(e){return t.biographyRemoved(r)}}},"biography-card2",i,!1,!0))]}}],null,!0)},[t.categoryId?n("template",{slot:"header"},[n("category-card",{attrs:{category:t.category,height:200,"disable-link":!0}})],1):t._e(),n("template",{slot:"sidebar"},[n("side-bar",{on:{new:t.applyNewFilter,"last-update":t.applyLastUpdateFilter,autobiographies:t.applyAutobiographiesFilter}})],1),n("template",{slot:"smSidebar"},[n("side-list",{on:{new:t.applyNewFilter,"last-update":t.applyLastUpdateFilter,autobiographies:t.applyAutobiographiesFilter}})],1),n("template",{slot:"no-results"},[n("v-card",[n("v-card-text",[n("h4",[t._v("Еще биографий нет.")])])],1)],1)],2)},h=[],f=(n("55dd"),n("c5f6"),n("f3ce")),p=n("7862"),m=n("1b98"),b=n("aaee"),g=n("1605"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"sidebar transparent"},[n("side-list",t._g({},t.$listeners))],1)},_=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{style:t._cardStyles},[n("v-list",{staticClass:"white",attrs:{dense:""}},[n("v-list-tile",{class:{active:1===t.clickedIndex},attrs:{href:""},on:{click:function(e){return t.click(1,"new")}}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("Новые")])],1)],1),n("v-list-tile",{class:{active:2===t.clickedIndex},attrs:{href:""},on:{click:function(e){return t.click(2,"last-update")}}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("Обновленные")])],1)],1)],1),t.$vuetify.breakpoint.smAndDown?n("v-divider"):t._e(),n("v-list",{staticClass:"white mt-1",attrs:{dense:""}},[n("v-list-tile",[n("v-list-tile-action",[n("v-switch",{attrs:{color:"primary"},model:{value:t.autobiographies,callback:function(e){t.autobiographies=e},expression:"autobiographies"}})],1),n("v-list-tile-title",[t._v("Автобиографии")])],1)],1)],1)},k=[],C={name:"SideList",data:function(){return{clickedIndex:1,autobiographies:!1}},computed:{_cardStyles:function(){return this.$vuetify.breakpoint.mdAndUp?{"background-color":"transparent"}:{}}},methods:{click:function(t,e){this.clickedIndex=t,this.$emit(e)}},watch:{autobiographies:function(t){this.$emit("autobiographies",t)}}},S=C,w=(n("d558"),n("2877")),I=n("6544"),O=n.n(I),E=n("b0af"),T=n("ce7e6"),x=n("8860"),j=n("ba95"),N=n("40fe"),R=n("5d23"),A=n("b73d"),L=Object(w["a"])(S,y,k,!1,null,"4ed4ed27",null),$=L.exports;O()(L,{VCard:E["a"],VDivider:T["a"],VList:x["a"],VListTile:j["a"],VListTileAction:N["a"],VListTileContent:R["a"],VListTileTitle:R["b"],VSwitch:A["a"]});var M={name:"SideBar",components:{SideList:$}},D=M,V=Object(w["a"])(D,v,_,!1,null,"b6bb3b8c",null),U=V.exports,B=n("db49"),P=n("2c57"),q=n("9fb0"),H=n("3284"),F={created:function(){this.$store.commit(q["k"],!0),H["b"].$on(H["a"],this.doSearch)},beforeDestroy:function(){H["b"].$off(H["a"]),this.$store.commit(q["k"],!1)}},z=n("2f14"),G={name:"BiographiesList",mixins:[P["a"],F],data:function(){return{biographyChannel:void 0,infiniteId:+new Date,resetId:+new Date,deleteId:+new Date,deleteIndex:-1,sort:"sort=created_at,desc",autobiographies:void 0,category:void 0,searchQuery:void 0}},props:{categoryId:{type:Number}},methods:{doSearch:function(t){this.searchQuery=t,++this.resetId},pullToRefresh:function(t){t("done"),this.isOnline&&++this.resetId},biographyRemoved:function(t){this.deleteIndex=t,++this.deleteId},loadCategory:function(){var t=this;this.categoryId&&m["a"].getCategory(this.categoryId).then(function(e){t.category=e.data})},applyNewFilter:function(){++this.resetId,this.sort="sort=created_at,desc"},applyLastUpdateFilter:function(){++this.resetId,this.sort="sort=updated_at,desc&sort=created_at,desc"},applyAutobiographiesFilter:function(t){this.autobiographies=t||void 0,++this.resetId},infiniteLoad:function(t,e,n){return this.categoryId?m["a"].getBiographies(n,this.categoryId,t,e,this.autobiographies,B["b"],this.searchQuery,this.sort).then(function(t){return 200===t.status&&t.data.content.forEach(function(t){t.flex=12}),t}):p["a"].getBiographies(n,t,e,this.autobiographies,B["b"],this.searchQuery,this.sort).then(function(t){return 200===t.status&&t.data.content.forEach(function(t){t.flex=12}),t})}},computed:{_treeClampSize:function(){return B["q"]},_throttleSearch:function(){var t=this;return z["a"].throttle(function(){++t.resetId},300)}},created:function(){this.loadCategory()},watch:{$route:function(t,e){this.loadCategory(),this.resetId+=1}},components:{SideList:$,SideBar:U,List:f["a"],BiographyCard2:b["a"],CategoryCard:g["a"]}},Y=G,K=(n("4800"),n("99d9")),Q=n("132d"),W=n("2677"),J=Object(w["a"])(Y,d,h,!1,null,"760b7fee",null),X=J.exports;O()(J,{VCard:E["a"],VCardText:K["b"],VIcon:Q["a"],VTextField:W["a"]});var Z=n("07a4"),tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[n("h1",{staticClass:"white--text"},[t._v("Доступ запрещен")]),n("v-btn",{staticClass:"white--text",attrs:{color:"red",href:"/"}},[t._v("Домой")])],1)},et=[],nt={name:"error403"},it=nt,rt=n("8336"),ot=n("a722"),at=Object(w["a"])(it,tt,et,!1,null,"337b882a",null),st=at.exports;O()(at,{VBtn:rt["a"],VLayout:ot["a"]});var ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[n("h1",{staticClass:"white--text"},[t._v("Страница не найдена")]),n("br"),n("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-3",href:"/"}},[t._v("Домой")])],1)},lt=[],ut={name:"error404"},dt=ut,ht=Object(w["a"])(dt,ct,lt,!1,null,"45315caa",null),ft=ht.exports;O()(ht,{VBtn:rt["a"],VLayout:ot["a"]});var pt=n("9e56"),mt=n("500f"),bt=function(){return Promise.all([n.e("chunk-cfa69e1c"),n.e("chunk-2d213143")]).then(n.bind(null,"aac0"))},gt=function(){return n.e("chunk-528e0847").then(n.bind(null,"1b69"))},vt=function(){return n.e("chunk-2d0d6908").then(n.bind(null,"72a8"))},_t=function(){return n.e("chunk-d6f7478a").then(n.bind(null,"6a89"))},yt=function(){return n.e("chunk-03cf6588").then(n.bind(null,"f3d3"))},kt=function(){return n.e("chunk-63f474ab").then(n.bind(null,"21b6"))},Ct=function(){return Promise.all([n.e("chunk-378a5440"),n.e("chunk-276e6c5c"),n.e("chunk-2d0db208")]).then(n.bind(null,"6f13"))},St=function(){return Promise.all([n.e("chunk-378a5440"),n.e("chunk-276e6c5c"),n.e("chunk-2d0b24da")]).then(n.bind(null,"2413"))},wt=function(){return n.e("chunk-2d21a999").then(n.bind(null,"bbcf"))},It=function(){return n.e("chunk-68e806f4").then(n.bind(null,"8d83"))},Ot=function(){return n.e("chunk-2c76efa8").then(n.bind(null,"5772"))},Et=function(){return n.e("chunk-2d0db333").then(n.bind(null,"6f9f"))},Tt=function(){return n.e("chunk-2d237ec0").then(n.bind(null,"fcd1"))},xt=function(){return n.e("chunk-2d22ca91").then(n.bind(null,"f3d2"))},jt=function(){return n.e("chunk-2d0e149e").then(n.bind(null,"7a97"))},Nt=function(){return Promise.all([n.e("chunk-378a5440"),n.e("chunk-2d0b5a16")]).then(n.bind(null,"1a5e"))},Rt=function(){return n.e("chunk-a4f6d3fe").then(n.bind(null,"c66d"))},At=function(){return n.e("chunk-cc8399da").then(n.bind(null,"26d3"))},Lt=function(){return Promise.all([n.e("chunk-cfa69e1c"),n.e("chunk-2d0bdf87")]).then(n.bind(null,"2ded"))},$t=function(){return Promise.all([n.e("chunk-cfa69e1c"),n.e("chunk-2d21e19b")]).then(n.bind(null,"d3b8"))},Mt=function(){return n.e("chunk-467d9500").then(n.bind(null,"f820"))},Dt=function(){return n.e("chunk-2d0d3866").then(n.bind(null,"5cac"))},Vt=function(){return n.e("chunk-2d0a45c9").then(n.bind(null,"05b0"))},Ut=function(){return n.e("chunk-2d0b9d6a").then(n.bind(null,"353e"))},Bt=function(){return n.e("chunk-6a2ef4d5").then(n.bind(null,"6a35"))};l["a"].use(u["a"]);var Pt=function(t){Z["a"].getters.getStatus===pt["a"].NONE&&Z["a"].getters["request/request"]===B["m"].GET_ACCOUNT?Z["a"].watch(Z["a"].getters.watchState,function(){Z["a"].getters.getStatus!==pt["a"].NONE&&t()}):t()},qt=function(t,e){t.name&&"signUpConfirm"!==t.name?e(!1):e("/biographies")},Ht=function(t,e,n){function i(){var i=t.meta;!i.loginRequired||Z["a"].getters.isAuthenticated?!i.roles||Z["a"].getters.isAuthorized(i.roles)?i.expression?i.expression(t,e,n):n():n("/403"):n("/signIn")}Pt(i)},Ft=function(t,e,n){if(Object(pt["c"])())qt(e,n);else{var i=t.meta;i.expression?i.expression(t,e,n):n()}},zt=new u["a"]({mode:"hash",routes:[{path:"/about",name:"about",component:Mt,meta:{root:!0}},{path:"/settings",name:"settings",component:At,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_USER]}},{path:"/settings/email",name:"changeEmail",component:Lt,beforeEnter:Ht,meta:{loginRequired:!0,roles:[B["n"].ROLE_USER]}},{path:"/settings/phone",name:"changePhone",component:$t,beforeEnter:Ht,meta:{loginRequired:!0,roles:[B["n"].ROLE_USER]}},{path:"/create/category",name:"createCategory",component:kt,beforeEnter:Ht,meta:{loginRequired:!0,roles:[B["n"].ROLE_ADMIN]}},{path:"/edit/categories/:categoryId",name:"editCategory",component:kt,props:function(t){return{categoryId:c()(t.params.categoryId)}},beforeEnter:Ht,meta:{loginRequired:!0,roles:[B["n"].ROLE_ADMIN]}},{path:"/create/bug",name:"createBug",component:yt,beforeEnter:Ht,meta:{root:!0,loginRequired:!0}},{path:"/bug/tracking",name:"bugTracking",component:_t,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_ADMIN]}},{path:"/categories/admin",name:"categoriesAdmin",component:vt,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_ADMIN]}},{path:"/categories",name:"categories",component:Dt,meta:{root:!0}},{path:"/",name:"main",component:X,meta:{root:!0}},{path:"/categories/:categoryId",name:"categoryBiographies",component:X,props:function(t){return{categoryId:c()(t.params.categoryId)}}},{path:"/biographies",name:"biographies",component:X,meta:{root:!0}},{path:"/biographies/:id",name:"biography",component:gt,props:function(t){var e=a()(t.params.id,10);return r()(e)?0:{biographyId:e}}},{path:"/create/biography",name:"createBiography",component:St,beforeEnter:Ht,meta:{root:!0,loginRequired:!0}},{path:"/created",name:"createdByMe",component:wt,beforeEnter:Ht,meta:{root:!0,loginRequired:!0}},{path:"/moderation",name:"moderation",component:It,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_MODERATOR]}},{path:"/users",name:"users",component:Nt,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_ADMIN]}},{path:"/fixes",name:"fixes",component:Ot,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_MODERATOR]}},{path:"/edit/biographies/:id",name:"editBiography",component:Ct,props:function(t){var e=a()(t.params.id,10);return r()(e)?0:{biographyId:e}},beforeEnter:Ht,meta:{loginRequired:!0,expression:function(t,e,n){p["a"].canEdit(t.params.id).then(function(){n()})}}},{path:"/profile/:id",name:"profile",component:Rt,beforeEnter:Ht,props:function(t){var e=a()(t.params.id,10);return r()(e)?{profileId:0}:{profileId:e}},meta:{root:!0,loginRequired:!0}},{path:"/signUp",name:"signUp",component:Ut,beforeEnter:Ft},{path:"/signUp/confirm",name:"signUpConfirm",component:Bt,beforeEnter:function(t,e,n){Z["a"].dispatch(mt["g"]).then(function(){Z["a"].getters.isConfirmation?n():qt(e,n)},function(t){qt(e,n)})}},{path:"/restore",name:"restorePassword",component:bt},{path:"/signIn",name:"signIn",component:Vt,beforeEnter:Ft,meta:{root:!0}},{path:"/statistics",name:"statistics",component:Tt,beforeEnter:Ht,meta:{root:!0,loginRequired:!0,roles:[B["n"].ROLE_ADMIN]}},{path:"/privacy",name:"privacy",component:Et,meta:{root:!0}},{path:"/signUp/:providerId/callback",name:"oauthSignUpCallback",component:xt,props:function(t){return{providerId:t.params.providerId}}},{path:"/signIn/:providerId/callback",name:"oauthSignInCallback",component:jt,props:function(t){return{providerId:t.params.providerId}}},{path:"/403",name:"error403",component:st},{path:"*",name:"error404",component:ft}]});e["a"]=zt},4441:function(t,e,n){"use strict";var i,r,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-text",[t._showToc?n("toc",t._b({attrs:{headers:t.tocHeaders}},"toc",t._attrs,!1)):t._e(),t.bio?n("clamp",{ref:"biography",staticClass:"pt-2",attrs:{mode:t.mode,source:t.bio,clamp:t.biographyClamp,"clamp-link":t._biographyLink,"clamp-link-label":"Читать дальше..."}}):t._e(),n("small",{staticClass:"font-weight-bold"},[n("a",{staticClass:"bib-a",staticStyle:{color:"#37474F !important"},on:{click:t.showLikes}},[t._v("Понравилось "+t._s(t.likesCount)+" людям")])]),n("likes",t._g(t._b({attrs:{visible:t.likesDialogVisible},on:{"update:visible":function(e){t.likesDialogVisible=e}}},"likes",t._attrs,!1),t.$listeners))],1)},a=[],s=n("5176"),c=n.n(s),l=(n("a481"),n("e814")),u=n.n(l),d=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"word-break-word biography-content",class:t._classes,style:{"font-size":t._fontSize+"px"},domProps:{innerHTML:t._s(t.source)}}),t.clamp?n("router-link",{staticClass:"bib-a font-weight-medium subheading",attrs:{to:t.clampLink}},[t._v("\n    "+t._s(t.clampLinkLabel)+"\n  ")]):t._e()],1)}),h=[],f=n("db49"),p={name:"HtmlClamp",inheritAttrs:!1,props:{mode:{type:String,default:f["a"].LIST},type:{type:String,default:"html"},source:{type:String},clamp:{type:Boolean,default:!0},clampLink:{type:String},clampLinkLabel:{type:String}},computed:{_classes:function(){return this.mode===f["a"].LIST?"list-tipography":""},_fontSize:function(){return this.mode,f["a"].LIST,14}}},m=p,b=(n("88af"),n("2877")),g=Object(b["a"])(m,d,h,!1,null,"5c1f71e2",null),v=g.exports,_=n("2f14"),y={name:"Toc",inheritAttrs:!1,data:function(){return{treeClamped:!0,toc:"",clampedToc:"",options:{duration:300,offset:0,easing:"easeInOutCubic"}}},props:{headers:{type:Array,default:function(){return[]}},id:{type:Number},mode:{type:String,default:f["a"].LIST},treeClamp:{type:Boolean,default:!1},treeClampSize:{type:Number}},methods:{getMinLevel:function(t){var e,n=9;for(e=0;e<t.length;e++)if(t[e].level<n&&(n=t[e].level),1===n)return n;return n}},computed:{_hasClamp:function(){return this.treeClamp&&this.headers.length>this.treeClampSize},_clamped:function(){return!!this.treeClamped}},render:function(t){var e=this;function n(){var n=[];if(e._hasClamp){var i=t("div",{},[]);n.push(i),e._clamped?i.children.push(t("div",{},[t("a",{class:{"body-2":!0,"font-weight-medium":!0},on:{click:function(t){e.treeClamped=!1}}},"Показать содержание...")])):i.children.push(t("div",{},[t("a",{class:{"body-2":!0,"font-weight-medium":!0},on:{click:function(t){e.treeClamped=!0}}},"Скрыть содержание")]))}return n}function i(){var n=e.headers;if(n.length){var i,r;e._clamped&&n.length>e.treeClampSize&&(n=n.slice(0,e.treeClampSize));var o=e.getMinLevel(n)-1,a=[],s=[],c=[],l=[],u=function(){if(r=n[i],e.mode===f["a"].READ&&r.element.setAttribute("id",r.id),o===r.level){var u=t("li",{},[]),d=c[c.length-1];d.children.push(u),s.push(u),l.push(r.level)}else if(o<r.level){var h=t("ol",{},[]),p=t("li",{},[]);if(h.children.push(p),0===a.length&&a.push(h),s.length>0){var m=s[s.length-1];m.children.push(h)}s.push(p),c.push(h),l.push(r.level)}else if(o>r.level){var b=l[l.length-1],g=b;while(b>=r.level&&l.length>0)l.pop(),s.pop(),g>b&&c.pop(),g=b,b=l[l.length-1];var v=t("li",{},[]),y=c[c.length-1];y.children.push(v),s.push(v),l.push(r.level)}var k=s[s.length-1],C=r.id;e.mode===f["a"].READ?k.children.push(t("a",{class:{"bib-a":!0},on:{click:function(t){_["a"].scrollIt(document.getElementById(C),300,"easeOutQuad",function(){})}}},r.title)):k.children.push(t("router-link",{class:{"bib-a":!0},attrs:{to:"/biographies/"+e.id+"#"+C}},r.title)),o=r.level};for(i=0;i<n.length;i++)u();return a}}return t("div",{},[t("div",{class:{toc:!0,"word-break-word":!0}},i()),n()])}},k=y,C=(n("c8a5"),Object(b["a"])(k,i,r,!1,null,"08f5eda2",null)),S=C.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"400",fullscreen:t.$vuetify.breakpoint.smAndDown},model:{value:t._visible,callback:function(e){t._visible=e},expression:"_visible"}},[n("v-card",{attrs:{height:"100%"}},[n("vue-pull-to",{attrs:{mode:"element-scroll","top-load-method":t.pullToRefresh,"bottom-load-method":t.pullToLoadMore}},[n("div",[n("v-card-title",{staticClass:"pb-0"},[n("strong",{staticStyle:{color:"#37474F !important"}},[t._v("Понравилось "+t._s(t.likesCount)+" людям")]),n("v-spacer"),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.$emit("update:visible",!1)}}},[t._v("fas fa-times")])],1),n("v-divider"),n("v-card-text",{staticClass:"pt-0 pl-0"},[n("v-list",{attrs:{dense:""}},[t._l(t.items,function(e,i){return[n("v-list-tile",{key:"user"+e.id},[n("v-list-tile-content",[n("router-link",{staticClass:"bib-a",attrs:{to:"/profile/"+e.userId}},[n("h3",[t._v(t._s(t.userName(e)))])])],1)],1),i+1<t.items.length?n("v-divider",{key:i}):t._e()]}),n("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.load}},[n("template",{slot:"spinner"},[n("progress-circular")],1),n("span",{attrs:{slot:"no-more"},slot:"no-more"}),n("span",{attrs:{slot:"no-results"},slot:"no-results"}),n("span",{attrs:{slot:"error"},slot:"error"})],2)],2)],1)],1)])],1)],1)},I=[],O=n("75fc"),E=n("cc57"),T=n("d91a"),x=n("bc3a"),j={getLikes:N};function N(t,e,n){return x.get(Object(T["b"])("biographies/"+t+"/likes")+"?limit="+e+"&offset="+n)}var R=n("29c5"),A=n("e166"),L=n.n(A),$=n("bdf0"),M={name:"Likes",components:{VuePullTo:$["a"],ProgressCircular:R["a"],InfiniteLoading:L.a},mixins:[E["a"]],data:function(){return{infiniteId:+new Date,limit:40,offset:0,items:[]}},props:{id:Number,likesCount:Number,visible:Boolean},computed:{_visible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},methods:{pullToLoadMore:function(t){var e={complete:function(){t("done")},loaded:function(){t("done")}};this.load(e)},pullToRefresh:function(t){t("done"),this.reset()},userName:function(t){return t.lastName+" "+t.firstName},reset:function(){this.items=[],this.limit=40,this.offset=0,++this.infiniteId},load:function(t){var e=this;j.getLikes(this.id,this.limit,this.offset).then(function(n){var i;n.status===e.HttpStatus.OK?((i=e.items).push.apply(i,Object(O["a"])(n.data.content)),e.offset+=n.data.content.length,t.loaded(),e.$emit("update:likesCount",n.data.totalElements)):t.complete()})}},watch:{visible:function(t){t&&this.reset()}}},D=M,V=n("6544"),U=n.n(V),B=n("b0af"),P=n("99d9"),q=n("12b2"),H=n("169a"),F=n("ce7e6"),z=n("132d"),G=n("8860"),Y=n("ba95"),K=n("5d23"),Q=n("9910"),W=Object(b["a"])(D,w,I,!1,null,"1ab03298",null),J=W.exports;U()(W,{VCard:B["a"],VCardText:P["b"],VCardTitle:q["a"],VDialog:H["a"],VDivider:F["a"],VIcon:z["a"],VList:G["a"],VListTile:Y["a"],VListTileContent:K["a"],VSpacer:Q["a"]});var X={name:"BiographyCardText",inheritAttrs:!1,data:function(){return{tocHeaders:[],likesDialogVisible:!1}},props:{likesCount:Number,mode:{type:String,default:f["a"].LIST},headers:{type:Array},bio:{type:String,default:""},biographyClamp:{type:Boolean,default:!1},id:{type:Number}},mounted:function(){if(this.bio){var t=this.$refs.biography.$el.children[0].children;this.mode===f["a"].READ?this.getHeadersForRead(t,this.tocHeaders,this.guid()):this.postHeadersForList(this.headers,this.tocHeaders,this.guid())}},methods:{showLikes:function(){this.likesCount>0&&(this.likesDialogVisible=!0)},guid:function(){var t=0;return function(){return"head_"+t++}},postHeadersForList:function(t,e,n){for(var i=0;i<t.length;++i){var r=t[i],o={id:n(),title:r.text,level:r.level};e.push(o)}return e},getHeadersForRead:function(t,e,n){for(var i=0;i<t.length;++i){var r=t[i];if(/^h[1-9]$/i.test(r.localName)){var o=u()(r.nodeName.replace(/^H/i,""),10),a=r.textContent,s=n(),c={id:s,level:o,element:r,title:a};e.push(c)}r.children.length>0&&this.getHeadersForRead(r.children,e)}return e}},computed:{_attrs:function(){return c()({},this.$attrs,{id:this.id,mode:this.mode})},_showToc:function(){return this.tocHeaders.length>0},_biographyLink:function(){return"/biographies/"+this.id}},components:{Likes:J,Toc:S,Clamp:v}},Z=X,tt=Object(b["a"])(Z,o,a,!1,null,"8e153bce",null);e["a"]=tt.exports;U()(tt,{VCardText:P["b"]})},4678:function(t,e,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=o(t);return n(e)}function o(t){var e=i[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id="4678"},4800:function(t,e,n){"use strict";var i=n("7eb4"),r=n.n(i);r.a},"4e58":function(t,e,n){},"4eef":function(t,e,n){"use strict";var i=n("d91a"),r=n("bc3a");function o(t){return r.post(Object(i["b"])("auth/signIn/simple"),t)}function a(t,e,n){return r.post(Object(i["b"])("auth/signIn/"+t)+"?code="+n+"&redirectUri="+e)}function s(t,e,n){return r.post(Object(i["b"])("auth/signIn/"+t)+"?error="+e+(n?"&"+n:""))}function c(t){return r.post(Object(i["b"])("auth/signUp"),t)}function l(){return r.post(Object(i["b"])("auth/signOut"))}function u(){return r.get(Object(i["b"])("auth/account"))}function d(t,e,n){return r.post(Object(i["b"])("auth/oauth/"+t)+"?redirectUri="+n+"&responseType="+e)}function h(t,e,n){return r.post(Object(i["b"])("auth/signUp/"+t)+"?code="+n+"&redirectUri="+e)}function f(t,e,n){return r.post(Object(i["b"])("auth/signUp/"+t)+"?error="+e+(n?"&"+n:""))}function p(t,e){var n="?";return n+=t?"verificationKey="+t:"verificationKey="+e,r.post(Object(i["b"])("auth/signUp/confirm-start")+n)}function m(t){return r.post(Object(i["b"])("auth/signUp/confirm-finish"),t)}function b(){return r.post(Object(i["b"])("auth/signUp/cancel"))}function g(){return r.get(Object(i["b"])("auth/signUp/confirmation"))}e["a"]={signIn:o,signUp:c,cancelSignUp:b,signOut:l,getAccount:u,getOauthUrl:d,socialSignUp:h,errorSocialSignUp:f,confirmSignUpStart:p,confirmSignUpFinish:m,getConfirmation:g,socialSignIn:a,errorSocialSignIn:s}},"500f":function(t,e,n){"use strict";n.d(e,"k",function(){return i}),n.d(e,"o",function(){return r}),n.d(e,"n",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"m",function(){return u}),n.d(e,"l",function(){return d}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"j",function(){return p}),n.d(e,"h",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"i",function(){return g});var i="SIGN_IN",r="SOCIAL_SIGN_UP",o="SOCIAL_SIGN_IN",a="ERROR_SOCIAL_SIGN_IN",s="ERROR_SOCIAL_SIGN_UP",c="CONFIRM_SIGN_UP",l="CANCEL_SIGN_UP",u="SIGN_UP",d="SIGN_OUT",h="GET_ACCOUNT",f="GET_CONFIRMATION",p="SET_SUCCESS",m="SET_ERROR",b="CLEAR",g="SET"},"518a":function(t,e,n){},"52dc":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("795b"),r=n.n(i),o=(n("7f7f"),n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("img",{staticClass:"background",attrs:{src:t._img}}),t.accountRequest?n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("progress-circular")],1):n("layout")],1)},s=[],c=(n("06db"),n("cebc")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[t.$vuetify.breakpoint.smAndDown?n("nav-bar"):t._e(),n("tool-bar"),n("vue-pull-to",{attrs:{"top-load-method":t.pullToRefreshMethod,"bottom-load-method":t.pullToLoadMoreMethod}},[n("v-container",{class:[t.$vuetify.breakpoint.mdAndUp?"bib-container":"bib-mobile-container"],attrs:{"grid-list-lg":t.$vuetify.breakpoint.mdAndUp,"grid-list-md":t.$vuetify.breakpoint.smAndDown,"fill-height":""}},[n("v-layout",{staticClass:"mt-0 mb-0",attrs:{row:"","fill-height":"","justify-center":""}},[t.$vuetify.breakpoint.mdAndUp?n("v-flex",{attrs:{md3:""}},[n("sidebar")],1):t._e(),n("v-flex",{attrs:{xs12:"",md9:""}},[n("router-view")],1)],1)],1)],1)],1)},u=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{staticClass:"grey lighten-4",staticStyle:{"z-index":"10"},attrs:{fixed:"",app:""},model:{value:t._drawer,callback:function(e){t._drawer=e},expression:"_drawer"}},[n("vue-pull-to",{attrs:{"top-load-method":t.loadAccount}},[t.isAuthenticated?n("v-toolbar",{staticClass:"transparent pt-3 pb-3",attrs:{flat:""},on:{click:function(e){return t.$router.push("/profile/"+t.getUserId)}}},[n("div",[n("span",{staticClass:"font-weight-regular headline user-name"},[t._v(t._s(t._fullName))])])]):t._e(),n("nav-list")],1)],1)},h=[],f=n("2f62"),p=n("9fb0"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-list",{staticClass:"white",attrs:{dense:""}},[n("v-list",{attrs:{dense:""}},[t.isAuthenticated?n("v-list-tile",{attrs:{to:"/profile/"+t.getUserId}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-home")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Моя биография")])],1)],1):t._e(),t.isAuthenticated&&t.isAuthorized([t.Roles.ROLE_USER])?n("v-list-tile",{attrs:{to:"/settings"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-cog")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Настройки")])],1)],1):t._e(),n("v-list-tile",{attrs:{to:"/categories"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("mdi-library-books")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Библиотека")])],1)],1),n("v-list-tile",{attrs:{to:"/biographies"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("mdi-book-open-page-variant")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Биографии")])],1)],1),t.isAuthenticated?n("v-list-tile",{attrs:{to:"/create/biography"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-plus")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Создать биографию")])],1)],1):t._e(),t.isAuthenticated?n("v-list-tile",{attrs:{to:"/created"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-list")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Созданные мной")])],1)],1):t._e(),t.isAuthenticated?n("v-list-tile",{attrs:{to:"/create/bug"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-bug")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Сообщить об ошибке")])],1)],1):t._e()],1),t._showModeratorBlock?n("v-list",{attrs:{dense:"",subheader:""}},[n("v-subheader",[t._v("Модерация")]),n("v-list-tile",{attrs:{to:"/moderation"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-shield-alt")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Модерация")])],1)],1),n("v-list-tile",{attrs:{to:"/fixes"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-wrench")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Исправления")])],1)],1)],1):t._e(),t._showDeveloperBlock?n("v-list",{attrs:{dense:"",subheader:""}},[n("v-subheader",[t._v("Разработка")]),n("v-list-tile",{attrs:{to:"/bug/tracking"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-bug")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Баг трекинг")])],1)],1)],1):t._e(),t._showAdminBlock?n("v-list",{attrs:{dense:"",subheader:""}},[n("v-subheader",[t._v("Администрирование")]),n("v-list-tile",{attrs:{to:"/categories/admin"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-landmark")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Категории")])],1)],1),n("v-list-tile",{attrs:{to:"/users"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-users-cog")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Пользователи")])],1)],1),n("v-list-tile",{attrs:{to:"/statistics"}},[n("v-list-tile-action",[n("v-icon",{attrs:{size:"24"}},[t._v("fas fa-chart-bar")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Статистика")])],1)],1)],1):t._e()],1),t.$vuetify.breakpoint.smAndDown?n("v-list",{staticClass:"pb-0",attrs:{dense:""}},[t.isAuthenticated?n("v-list-tile",{on:{click:t.signOut}},[n("v-list-tile-action",[t._isRequest(t.Request.SIGN_OUT)?n("progress-circular",{attrs:{size:20}}):n("v-icon",[t._v("fas fa-sign-out-alt")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Выход")])],1)],1):[t._isConfirmation?n("v-list-tile",{on:{click:t.cancelSignUp}},[n("v-list-tile-action",[n("v-icon",[t._v("fas fa-sign-out-alt")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Выход")])],1)],1):n("v-list-tile",{attrs:{to:"/signIn"}},[n("v-list-tile-action",[n("v-icon",[t._v("fas fa-sign-in-alt")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Войти")])],1)],1)]],2):t._e(),n("v-list",{staticClass:"grey lighten-4",class:{"pt-0":t.$vuetify.breakpoint.smAndDown},attrs:{dense:""}},[n("v-list-tile",{attrs:{to:"/about"}},[n("v-list-tile-action",[n("v-icon",[t._v("fas fa-question-circle")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("О нас")])],1)],1)],1)],1)},b=[],g=n("29c5"),v=n("8022"),_=n("cc57"),y=n("db49"),k={data:function(){return{Roles:y["n"]}},computed:Object(c["a"])({},Object(f["c"])(["isAuthenticated","isAuthorized"]))},C=n("500f"),S=n("2f14"),w={computed:{_bibliographyaPath:function(){return"bibliographya://"+this._path},_path:function(){var t=this.$route.fullPath;return t=t.substring(1),t},_intent:function(){return this._isAndroidBrowser?"intent://"+this._path+"#Intent;package=com.bibliographya.android;scheme=bibliographya;launchFlags=268435456;end;":"#"},_isAndroidBrowser:function(){return S["a"].isAndroidBrowser()},_isSupportedBrowser:function(){return S["a"].isSupportedBrowser()}},methods:{openApp:function(){if(this._isAndroidBrowser){var t=window.open(this._bibliographyaPath,"_system");setTimeout(function(){t.closed||t.open("market://details?id=com.saidgadjiev.bibliographya","_system")},100)}}}},I={name:"NavList",components:{ProgressCircular:g["a"]},mixins:[v["a"],_["a"],k,w],computed:Object(c["a"])({},Object(f["c"])(["getUserId","getFirstName","getLastName","drawer"]),{_showDeveloperBlock:function(){return this.isAuthorized([this.Roles.ROLE_DEVELOPER])},_showModeratorBlock:function(){return this.isAuthorized([this.Roles.ROLE_MODERATOR])},_showAdminBlock:function(){return this.isAuthorized([this.Roles.ROLE_ADMIN])},_isConfirmation:function(){return"signUpConfirm"===this.$route.name}}),methods:{cancelSignUp:function(){this.$store.dispatch(C["a"]),this.$router.push("/")},signOut:function(){var t=this,e=this;this.$store.dispatch(C["l"]).then(function(){t.$router.push("/signIn")},function(n){n.response.status===e.HttpStatus.UNAUTHORIZED&&t.$router.push("/signIn")})}}},O=I,E=(n("f36b"),n("2877")),T=n("6544"),x=n.n(T),j=n("132d"),N=n("8860"),R=n("ba95"),A=n("40fe"),L=n("5d23"),$=n("e0c7"),M=Object(E["a"])(O,m,b,!1,null,"720f8160",null),D=M.exports;x()(M,{VIcon:j["a"],VList:N["a"],VListTile:R["a"],VListTileAction:A["a"],VListTileContent:L["a"],VListTileTitle:L["b"],VSubheader:$["a"]});var V=n("bdf0"),U={name:"NavBar",components:{VuePullTo:V["a"],NavList:D},computed:Object(c["a"])({},Object(f["c"])(["getUserId","getFirstName","getLastName","isAuthenticated","isAuthorized","drawer"]),{_fullName:function(){return this.getLastName+" "+this.getFirstName},_drawer:{get:function(){return this.drawer},set:function(t){this.$store.commit(p["f"],t)}}}),methods:{loadAccount:function(t){this.$store.dispatch(C["f"]).finally(function(){t("done")})}}},B=U,P=(n("2edb"),n("f774")),q=n("71d9"),H=Object(E["a"])(B,d,h,!1,null,"4750f57e",null),F=H.exports;x()(H,{VNavigationDrawer:P["a"],VToolbar:q["a"]});var z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{class:{"md-toolbar":t.$vuetify.breakpoint.mdAndUp},staticStyle:{"z-index":"9"},attrs:{color:"blue darken-3",dark:"",app:"",fixed:"",dense:"",height:50}},[n("v-toolbar-title",{staticClass:"ml-0"},[t.$vuetify.breakpoint.smAndDown?n("div",[t.$routerHistory.hasPrevious()?n("router-link",{staticClass:"title",attrs:{to:{path:t.$routerHistory.previous().path}}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("\n          fas fa-arrow-left\n        ")])],1)],1):n("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.doDrawer(e)}}}),n("router-link",{staticClass:"title pl-2 white--text font-weight-light",attrs:{to:"/"}},[t._v(t._s(t._title))])],1):n("div",{staticStyle:{height:"50px",width:"290px"}},[n("div",{staticClass:"d-inline-flex align-center",staticStyle:{height:"100%"}},[n("bibliographya-icon"),n("router-link",{staticClass:"title pl-2 white--text font-weight-regular",attrs:{to:"/"}},[t._v(t._s(t._title))])],1)])]),t.$vuetify.breakpoint.mdAndUp&&t.isShowSearch?n("v-text-field",{staticClass:"search-field",attrs:{"hide-details":"",solo:"",flat:"",light:"",placeholder:"Поиск","single-line":"",height:"30"},on:{input:t._throttleSearch},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[n("v-icon",{attrs:{small:"",color:"blue darken-3"}},[t._v("fas fa-search")])]},proxy:!0}],null,!1,708777262),model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}):t._e(),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.isAuthenticated?n("v-menu",{attrs:{"min-width":"200px","offset-y":"",left:"",origin:"center center",transition:"scale-transition"}},[n("v-btn",{staticClass:"white--text",staticStyle:{"text-transform":"none"},attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("\n        "+t._s(t._firstName)+"\n        "),n("v-icon",{attrs:{right:"",dark:""}},[t._v("fas fa-user")])],1),n("v-list",[n("v-list-tile",{on:{click:function(e){return t.$router.push("/profile/"+t.getUser.id)}}},[n("v-list-tile-action",[n("v-icon",[t._v("fas fa-home")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Моя биография")])],1)],1),n("v-divider"),n("v-list-tile",{on:{click:t.signOut}},[n("v-list-tile-action",[n("v-icon",[t._v("fa-sign-out-alt")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Выйти")])],1)],1)],1)],1):t._isConfirmation?n("v-list-tile",{on:{click:t.cancelSignUp}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("Выйти")])],1)],1):n("v-list-tile",{attrs:{to:"/signIn","active-class":""}},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("Войти")])],1)],1)],1)],1)},G=[],Y=(n("386d"),n("3284")),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticStyle:{fill:"#000000"},attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 192 192"}},[n("g",{attrs:{transform:"translate(2.016,2.016) scale(0.979,0.979)"}},[n("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","fill-rule":"nonzero",stroke:"none","stroke-width":"none","stroke-linecap":"butt","stroke-linejoin":"none","stroke-miterlimit":"10","stroke-dasharray":"","stroke-dashoffset":"0","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[n("g",{attrs:{fill:"#ffffff",stroke:"#ffffff","stroke-width":"4","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M184.32,96c0,48.73231 -39.58769,88.32 -88.32,88.32c-48.73231,0 -88.32,-39.58769 -88.32,-88.32c0,-48.73231 39.58769,-88.32 88.32,-88.32c48.73231,0 88.32,39.58769 88.32,88.32zM15.36,96c0,44.58172 36.05828,80.64 80.64,80.64c44.58172,0 80.64,-36.05828 80.64,-80.64c0,-44.58172 -36.05828,-80.64 -80.64,-80.64c-44.58172,0 -80.64,36.05828 -80.64,80.64zM97.245,61.44c12.69504,0 20.4525,6.65562 20.4525,17.2425c0,7.18464 -5.26644,13.70076 -11.925,14.895v0.7725c9.43488,1.19808 15.4275,7.66062 15.4275,16.8075c0,12.16512 -8.7153,19.4025 -23.4225,19.4025h-26.97v-69.12zM79.4325,91.2375h13.7925c10.44096,0 15.7575,-3.73578 15.7575,-11.0625c0,-7.04256 -4.97778,-11.115 -13.5525,-11.115h-15.9975zM79.425,122.9475h17.055c10.39488,0 15.855,-4.21878 15.855,-12.2175c0,-7.99872 -5.65554,-12.0675 -16.6725,-12.0675h-16.2375z"}})]),n("path",{attrs:{d:"M0,192v-192h192v192z",fill:"none",stroke:"none","stroke-width":"1","stroke-linejoin":"miter"}}),n("g",{attrs:{fill:"#ffffff",stroke:"none","stroke-width":"1","stroke-linejoin":"miter"}},[n("path",{attrs:{d:"M96,7.68c-48.73231,0 -88.32,39.58769 -88.32,88.32c0,48.73231 39.58769,88.32 88.32,88.32c48.73231,0 88.32,-39.58769 88.32,-88.32c0,-48.73231 -39.58769,-88.32 -88.32,-88.32zM96,15.36c44.58172,0 80.64,36.05828 80.64,80.64c0,44.58172 -36.05828,80.64 -80.64,80.64c-44.58172,0 -80.64,-36.05828 -80.64,-80.64c0,-44.58172 36.05828,-80.64 80.64,-80.64zM70.8075,61.44v69.12h26.97c14.7072,0 23.4225,-7.23738 23.4225,-19.4025c0,-9.14688 -5.99262,-15.60942 -15.4275,-16.8075v-0.7725c6.65856,-1.19424 11.925,-7.71036 11.925,-14.895c0,-10.58688 -7.75746,-17.2425 -20.4525,-17.2425zM79.4325,69.06h15.9975c8.57472,0 13.5525,4.07244 13.5525,11.115c0,7.32672 -5.31654,11.0625 -15.7575,11.0625h-13.7925zM79.425,98.6625h16.2375c11.01696,0 16.6725,4.06878 16.6725,12.0675c0,7.99872 -5.46012,12.2175 -15.855,12.2175h-17.055z"}})]),n("path",{attrs:{d:"",fill:"none",stroke:"none","stroke-width":"1","stroke-linejoin":"miter"}}),n("path",{attrs:{d:"",fill:"none",stroke:"none","stroke-width":"1","stroke-linejoin":"miter"}})])])])},Q=[],W={name:"BibliographyaIcon"},J=W,X=Object(E["a"])(J,K,Q,!1,null,"7a13ceca",null),Z=X.exports,tt={name:"ToolBar",components:{BibliographyaIcon:Z},data:function(){return{searchQuery:"",timer:null}},computed:Object(c["a"])({},Object(f["c"])(["getFirstName","isAuthenticated","drawer","isShowSearch"]),{_firstName:function(){return this.getFirstName},_isConfirmation:function(){return"signUpConfirm"===this.$route.name},_throttleSearch:function(){return S["a"].throttle(this.search,300)},_title:function(){return y["o"]}}),methods:{search:function(){Y["b"].$emit(Y["a"],this.searchQuery)},cancelSignUp:function(){this.$store.dispatch(C["a"]),this.$router.push("/")},doDrawer:function(){this.$store.commit(p["f"],!this.drawer)},signOut:function(){var t=this;this.$store.dispatch(C["l"]).then(function(){t.$router.push("/signIn")})}},watch:{isShowSearch:function(){this.searchQuery=void 0}}},et=tt,nt=(n("b5cf"),n("8336")),it=n("ce7e6"),rt=n("e449"),ot=n("9910"),at=n("2677"),st=n("2a7f"),ct=n("706c"),lt=Object(E["a"])(et,z,G,!1,null,"b9acd744",null),ut=lt.exports;x()(lt,{VBtn:nt["a"],VDivider:it["a"],VIcon:j["a"],VList:N["a"],VListTile:R["a"],VListTileAction:A["a"],VListTileContent:L["a"],VListTileTitle:L["b"],VMenu:rt["a"],VSpacer:ot["a"],VTextField:at["a"],VToolbar:q["a"],VToolbarItems:st["a"],VToolbarSideIcon:ct["a"],VToolbarTitle:st["b"]});var dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"md-drawer"},[n("nav-list")],1)},ht=[],ft={name:"Sidebar",components:{NavList:D}},pt=ft,mt=(n("df88"),Object(E["a"])(pt,dt,ht,!1,null,"f489eb6e",null)),bt=mt.exports,gt={name:"Layout",data:function(){return{runAppAlert:!0}},components:{Sidebar:bt,VuePullTo:V["a"],NavBar:F,ToolBar:ut},computed:Object(c["a"])({},Object(f["c"])(["pullToLoadMoreMethod","pullToRefreshMethod"]),{_isSupportedBrowser:function(){return S["a"].isSupportedBrowser()}}),created:function(){this.$vuetify.breakpoint.mdAndUp&&this.$store.commit(p["f"],!0)}},vt=gt,_t=n("a523"),yt=n("549c"),kt=n("0e8f"),Ct=n("a722"),St=Object(E["a"])(vt,l,u,!1,null,"4a4c1350",null),wt=St.exports;x()(St,{VContainer:_t["a"],VContent:yt["a"],VFlex:kt["a"],VLayout:Ct["a"]});var It=n("9e56"),Ot=n("1816"),Et={name:"App",data:function(){return{accountRequest:!0,drawer:!1}},metaInfo:{title:y["o"],titleTemplate:null},computed:Object(c["a"])({},Object(f["c"])(["getStatus"]),{_img:function(){return"static/img/Bibliographya.jpg"}}),created:function(){var t=this;document.addEventListener("deviceready",this.onDeviceReady,!1),window.handleOpenURL=function(e){var n=new Ot(e),i=n.host+n.pathname+n.query+n.hash;t.$router.push(i)},this.loadAccount(),this.$on("online",this.online)},methods:{online:function(){this.getStatus===It["a"].NONE&&this.loadAccount()},loadAccount:function(){var t=this;this.$store.dispatch(C["f"]).finally(function(){t.accountRequest=!1})},onDeviceReady:function(){navigator.splashscreen.hide()}},components:{ProgressCircular:g["a"],Layout:wt}},Tt=Et,xt=(n("034f"),n("7496")),jt=Object(E["a"])(Tt,a,s,!1,null,null,null),Nt=jt.exports;x()(jt,{VApp:xt["a"],VLayout:Ct["a"]});var Rt=n("41cb"),At=n("bb71"),Lt=n("7bb1"),$t=n("b451"),Mt=n.n($t),Dt=n("bc3a"),Vt=n.n(Dt),Ut=n("619c"),Bt=n("85ff"),Pt=n.n(Bt),qt=n("2ead"),Ht=n.n(qt),Ft=n("7f45"),zt=n.n(Ft),Gt=n("932e"),Yt=n.n(Gt),Kt=n("0a89"),Qt=n.n(Kt),Wt=n("407d"),Jt=n.n(Wt),Xt=n("bf4e"),Zt=n.n(Xt),te=n("85f2"),ee=n.n(te),ne={_storageKey:"vue.router.back.button.history",_history:[],_current:-1,useSession:window.sessionStorage?1:0,ignoreRoutesWithSameName:!1,rootRoutes:[],install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ne.ignoreRoutesWithSameName=e.ignoreRoutesWithSameName||!1,ne.rootRoutes=e.rootRoutes||[],ee()(t.prototype,"$routerHistory",{get:function(){return ne}})},reset:function(){this._history=[],this._current=-1,this.save()},getHistory:function(){if(!this.useSession)return this._history;var t=sessionStorage.getItem(this._storageKey);return this._history=t?window.JSON.parse(t).history:[],this._history},getCurrent:function(){if(!this.useSession)return this._current;var t=sessionStorage.getItem(this._storageKey);return this._current=t?window.JSON.parse(t).current:-1,this._current},save:function(){if(this.useSession){var t=window.JSON.stringify({history:this._history,current:this._current});return sessionStorage.setItem(this._storageKey,t),this}},clear:function(){this._history=[],this._current=-1,this.save()},previous:function(){var t=this.getHistory();return t.length>1?{path:t[this._current-1]}:{path:null}},current:function(){var t=this.getHistory();return t.length>1?{path:t[this._current]}:{path:null}},next:function(){var t=this.getHistory();return t.length+1>this._current?{path:t[this._current+1]}:{path:null}},hasHistory:function(){var t=this.getHistory();return t.length>1},hasPrevious:function(){var t=this.getCurrent();return t>0},hasForward:function(){var t=this.getCurrent(),e=this.getHistory();return t+1<e.length},push:function(t){this._history=this.getHistory(),this._current=this.getCurrent(),this._history.splice(this._current+1,this._history.length);var e=this._history[this._history.length-1];e!==t&&(this._history.push(t),this._current=this._current+1),this.save()},back:function(t){t<0||(this._current=this.getCurrent(),this._current=this._current-t,this.save())},forward:function(t){t<0||(this._current=this.getCurrent(),this._current=this._current+t,this.save())},getTheRecentFuture:function(){var t=this.getHistory(),e=this.getCurrent();return t.slice(e+1,e+4)},howFarIntheFuture:function(t){var e=this.getTheRecentFuture();return e.indexOf(t)+1},isInTheFuture:function(t){return this.howFarIntheFuture(t)>0},indexOfRecentHistory:function(t){var e=this.getHistory(),n=this.getCurrent(),i=e.slice(0,n+1).reverse();return i.indexOf(t)},visitedRecently:function(t){var e=this.indexOfRecentHistory(t);return-1!==e}},ie=ne,re=function(t,e){if(ie.isInTheFuture(t.fullPath)){var n=ie.howFarIntheFuture(t.fullPath);ie.forward(n)}else if(ie.visitedRecently(t.fullPath)){var i=ie.indexOfRecentHistory(t.fullPath);ie.back(i)}else{if(ie.ignoreRoutesWithSameName&&t.name&&e.name&&t.name===e.name)return;-1!==ie.rootRoutes.indexOf(t.name)&&ie.clear(),ie.push(t.fullPath)}},oe={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.router?(t.use(ie,e),e.router.afterEach(re)):console.error("VueRouterBackButton: router is required on install")}},ae=n("07a4"),se=(n("da64"),n("41e6"),n("bf68"),n("c7da"));zt.a.tz.setDefault("Europe/Moscow"),n("957c");var ce=Rt["a"].options.routes.filter(function(t){return t.meta&&t.meta.root}).map(function(t){return t.name});o["a"].use(oe,{router:Rt["a"],rootRoutes:ce}),o["a"].use(Ht.a,{moment:zt.a}),o["a"].use(Zt.a),o["a"].component(Jt.a.name,Jt.a),o["a"].use(Qt.a,{keyName:"metaInfo",attribute:"data-vue-meta",ssrAttribute:"data-vue-meta-server-rendered",tagIDKeyName:"vmid"}),o["a"].use(f["a"]),o["a"].use(At["a"],{iconfont:"fa"}),o["a"].use(Ut["a"]);var le=!0,ue={isEnabled:!0,logLevel:le?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};o["a"].use(Pt.a,ue);var de={locale:"ru",events:"input|blur",dictionary:{ru:{messages:Mt.a.messages}}};o["a"].use(Yt.a,{id:y["h"],router:Rt["a"],env:"production",debug:!0}),o["a"].use(Lt["a"],de),o["a"].config.productionTip=!1,o["a"].config.devtools=!0,Vt.a.defaults.withCredentials=!0,Vt.a.interceptors.request.use(function(t){return!!navigator.onLine&&(t.headers.common[y["p"]]=Object(It["c"])(),t)},function(t){return r.a.reject(t)}),Vt.a.interceptors.response.use(function(t){return t},function(t){if(ae["a"].getters["request/request"]===y["m"].GET_ACCOUNT)return r.a.reject(t);if(Vt.a.isCancel(t))le||console.log("request canceled");else if(t.response)switch(t.response.status){case 401:Rt["a"].push("/signIn");break;case 429:o["a"].swal.fire({text:se["m"],type:"error",showCloseButton:!0});break;case 403:Rt["a"].push("/403");break;case 500:o["a"].swal.fire({text:se["l"],type:"error",showCloseButton:!0});break}else o["a"].swal.fire({text:se["h"],type:"error",showCloseButton:!0});return r.a.reject(t)}),new o["a"]({router:Rt["a"],store:ae["a"],render:function(t){return t(Nt)}}).$mount("#app")},"6a52":function(t,e,n){"use strict";var i=n("d3bb"),r=n.n(i);r.a},"77c4":function(t,e,n){},7862:function(t,e,n){"use strict";var i=n("774e"),r=n.n(i),o=n("f499"),a=n.n(o),s=n("795b"),c=n.n(s),l=n("d91a"),u=n("bc3a"),d={getBiographyById:h,getBiographies:f,getMyBiographies:p,update:m,create:b,publish:g,unPublish:v,deleteBiography:_,canEdit:y,disableComments:k,anonymousCreator:C};function h(t){return u.get(Object(l["b"])("biographies/"+t))}function f(t,e,n,i,r,o,a){var s="limit="+e+"&offset="+n;return i&&(s+="&autobiographies=true"),r&&(s+="&biographyClampSize="+r),o&&(a+="&sort=first_name,asc&sort=last_name,asc&sort=middle_name,asc",s+="&query="+o),a&&(s+="&"+a),u.get(Object(l["b"])("biographies")+"?"+s,{cancelToken:t})}function p(t,e,n,i){var r="limit="+t+"&offset="+e;return n&&(r+="&biographyClampSize="+n),i&&(r+="&"+i),u.get(Object(l["b"])("biographies/my")+"?"+r)}function m(t){return u.put(Object(l["b"])("biographies/"+t.id),t)}function b(t){return u.post(Object(l["b"])("biographies/"),t)}function g(t){return u.post(Object(l["b"])("biographies/"+t+"/publish"))}function v(t){return u.post(Object(l["b"])("biographies/"+t+"/unpublish"))}function _(t){return u.delete(Object(l["b"])("biographies/"+t))}function y(t){return u.head(Object(l["b"])("biographies/"+t))}function k(t,e){var n={disableComments:e};return u.patch(Object(l["b"])("biographies/"+t),n)}function C(t,e,n){var i={anonymousCreator:e};return n&&(i.returnFields=n),u.patch(Object(l["b"])("biographies/"+t),i)}var S=n("1f25"),w=new S({max:0,maxAge:36e5}),I=new S({max:0,maxAge:36e5});e["a"]={getBiographyById:O,getBiographies:E,getMyBiographies:T,update:x,create:j,publish:N,unPublish:R,deleteBiography:A,canEdit:L,disableComments:$,anonymousCreator:M};function O(t){return!navigator.onLine&&I.has(t)?c.a.resolve(I.get(t)):new c.a(function(e,n){d.getBiographyById(t).then(function(n){I.set(t,n),e(n)},function(t){n(t)})})}function E(t,e,n,i,o,s,l){if(l)return d.getBiographies(t,e,n,i,o,s,l);var u=a()(r()(arguments).splice(1));return!navigator.onLine&&w.has(u)?c.a.resolve(w.get(u)):new c.a(function(r,a){d.getBiographies(t,e,n,i,o,s,l).then(function(t){w.set(u,t),r(t)},function(t){a(t)})})}function T(t,e,n,i){return d.getMyBiographies(t,e,n,i)}function x(t){return d.update(t)}function j(t){return d.create(t)}function N(t){return d.publish(t)}function R(t){return d.unPublish(t)}function A(t){return w.del(t),d.deleteBiography(t)}function L(t){return d.canEdit(t)}function $(t,e){return d.disableComments(t,e)}function M(t,e,n){return d.anonymousCreator(t,e,n)}},"7eb4":function(t,e,n){},8022:function(t,e,n){"use strict";var i=n("cebc"),r=n("500f"),o=n("2f62"),a=n("db49");e["a"]={data:function(){return{Request:a["m"]}},computed:Object(i["a"])({},Object(o["c"])({currentRequest:"request/request"})),methods:Object(i["a"])({},Object(o["b"])({setRequest:"request/"+r["i"],clearRequest:"request/"+r["b"]}),{_isRequest:function(t){return this.currentRequest===t}}),beforeDestroy:function(){this.clearRequest()}}},"88af":function(t,e,n){"use strict";var i=n("fb8f"),r=n.n(i);r.a},"9e56":function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"c",function(){return v});n("06db");var i,r,o=n("795b"),a=n.n(o),s=n("bd86"),c=n("4eef"),l=n("db49"),u=n("9fb0"),d=n("500f"),h=n("0828"),f={NONE:-1,SIGNED_ID:0,ANONYMOUS:1},p={status:f.NONE,user:{},confirmation:!1,roles:[]},m=(i={},Object(s["a"])(i,u["m"],function(t,e){t.status=f.SIGNED_ID,t.user=e.user,t.roles=e.user.authorities.map(function(t){return t.authority}),e.token&&_(e.token)}),Object(s["a"])(i,u["n"],function(t){t.status=f.ANONYMOUS,t.user={},t.roles={},localStorage.removeItem(l["p"])}),Object(s["a"])(i,u["e"],function(t){t.confirmation=!0}),Object(s["a"])(i,u["b"],function(t){t.confirmation=!1}),i),b=(r={},Object(s["a"])(r,d["k"],function(t,e){var n=t.dispatch,i=t.commit;return n("request/"+d["i"],l["m"].SIGN_IN),new a.a(function(t,r){c["a"].signIn(e).then(function(e){var n=e.headers[l["p"]];i(u["m"],{user:e.data,token:n}),t()},function(t){n("alert/"+d["h"],t),r(t)}).finally(function(){n("request/"+d["b"])})})}),Object(s["a"])(r,d["n"],function(t,e){var n=t.dispatch,i=t.commit;return n("request/"+d["i"],l["m"].SIGN_IN),new a.a(function(t,r){c["a"].socialSignIn(e.provider,e.redirectUri,e.code).then(function(e){var n=e.headers[l["p"]];i(u["m"],{user:e.data,token:n}),t(e.data)},function(t){n("alert/"+d["h"],t),r(t)}).finally(function(){n("request/"+d["b"])})})}),Object(s["a"])(r,d["d"],function(t,e){t.dispatch,t.commit;return new a.a(function(t,n){c["a"].errorSocialSignIn(e.provider,e.code,e.errorDescription).then(function(e){t(e)},function(t){n(t)})})}),Object(s["a"])(r,d["o"],function(t,e){var n=t.dispatch;t.commit;return n("request/"+d["i"],l["m"].SIGN_UP),new a.a(function(t,i){c["a"].socialSignUp(e.provider,e.redirectUri,e.code).then(function(e){t(e)},function(t){n("alert/"+d["h"],t),i(t)}).finally(function(){n("request/"+d["b"])})})}),Object(s["a"])(r,d["e"],function(t,e){t.dispatch,t.commit;return new a.a(function(t,n){c["a"].errorSocialSignUp(e.provider,e.code,e.errorDescription).then(function(e){t(e)},function(t){n(t)})})}),Object(s["a"])(r,d["c"],function(t,e){var n=t.dispatch,i=t.commit;return n("request/"+d["i"],l["m"].CONFIRM_SIGN_UP_FINISH),new a.a(function(t,r){c["a"].confirmSignUpFinish(e).then(function(e){var n=e.headers[l["p"]];i(u["m"],{user:e.data,token:n}),t(e.data)},function(t){n("alert/"+d["h"],t),r(t)}).finally(function(){n("request/"+d["b"])})})}),Object(s["a"])(r,d["g"],function(t){var e=t.commit;return new a.a(function(t,n){c["a"].getConfirmation().then(function(n){n.status===h.OK&&e(u["e"]),t(n)},function(t){n(t)})})}),Object(s["a"])(r,d["a"],function(t){var e=t.commit;c["a"].cancelSignUp().then(function(){e(u["b"])})}),Object(s["a"])(r,d["m"],function(t,e){var n=t.dispatch;t.commit;return n("request/"+d["i"],l["m"].SIGN_UP),new a.a(function(t,i){c["a"].signUp(e).then(function(e){t(e)},function(t){n("alert/"+d["h"],t),i(t)}).finally(function(){n("request/"+d["b"])})})}),Object(s["a"])(r,d["l"],function(t){var e=t.dispatch,n=t.commit;return e("request/"+d["i"],l["m"].SIGN_OUT),new a.a(function(t,i){c["a"].signOut().then(function(){n(u["n"]),t()},function(e){e.response.status===h.UNAUTHORIZED&&(n(u["n"]),t()),i(e)}).finally(function(){e("request/"+d["b"])})})}),Object(s["a"])(r,d["f"],function(t){var e=t.dispatch,n=t.commit;return e("request/"+d["i"],l["m"].GET_ACCOUNT),new a.a(function(t,i){c["a"].getAccount().then(function(e){n(u["m"],{user:e.data}),t()},function(e){e.response&&e.response.status===h.UNAUTHORIZED&&(t(),n(u["n"])),i(e)}).finally(function(){e("request/"+d["b"])})})}),r),g={watchState:function(t){return function(){return t.status}},isConfirmation:function(t){return t.confirmation},getStatus:function(t){return t.status},isAuthenticated:function(t){return t.status===f.SIGNED_ID},getUser:function(t){return t.user},getUserId:function(t,e){var n=e.getUser||{};return n.id},getBiography:function(t,e){var n=e.getUser||{};return n.biography},getFirstName:function(t,e){var n=e.getBiography||{};return n.firstName},getLastName:function(t,e){var n=e.getBiography||{};return n.lastName},getMiddleName:function(t,e){var n=e.getBiography||{};return n.middleName},getBiographyId:function(t,e){var n=e.getBiography||{};return n.id},isAuthorized:function(t,e){return function(n){if(!e.isAuthenticated)return!1;if("*"===n)return!0;var i=!1;return n.forEach(function(e){i||(i="*"===e||-1!==t.roles.indexOf(e))}),i}}},v=function(){return localStorage.getItem(l["p"])},_=function(t){localStorage.setItem(l["p"],t)};e["b"]={state:p,mutations:m,actions:b,getters:g}},"9fb0":function(t,e,n){"use strict";n.d(e,"m",function(){return i}),n.d(e,"n",function(){return r}),n.d(e,"l",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"j",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"i",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"c",function(){return m}),n.d(e,"k",function(){return b});var i="SIGN_IN_SUCCESS",r="SIGN_OUT_SUCCESS",o="SET_SUCCESS",a="SET_ERROR",s="SET_REQUEST",c="CLEAR",l="SET_CONFIRMATION",u="REMOVE_CONFIRMATION",d="SET_DRAWER",h="SET_PULL_TO_REFRESH_METHOD",f="SET_PULL_TO_LOAD_MORE_METHOD",p="REMOVE_PULL_TO_REFRESH_METHOD",m="REMOVE_PULL_TO_LOAD_MORE_METHOD",b="SET_SHOW_SEARCH"},a41c:function(t,e,n){"use strict";var i=n("14a9"),r=n.n(i);r.a},a518:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card-actions",[n("like",t._g(t._b({staticClass:"ml-1",attrs:{like:t.like,unlike:t.unlike}},"like",t._attrs,!1),t.$listeners)),t.disableComments?t._e():n("comment-icon",t._b({},"comment-icon",t._attrs,!1)),n("share-icon",{attrs:{"page-url":t._biographyLink,"page-description":t._biographyDescription,"page-title":t._biographyTitle,"magick-text":t._magickText}}),n("v-spacer"),n("views-count-icon",t._b({},"views-count-icon",t._attrs,!1))],1),t.showModerationActions?n("v-card-actions",[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.actions,function(e,i){return n("v-flex",{key:i,attrs:{xs12:""}},[n("moderation-button",t._g(t._b({key:e.name,attrs:{action:e}},"moderation-button",t._attrs,!1),t.$listeners))],1)}),1)],1):t._e()],1)},r=[],o=n("5176"),a=n.n(o),s=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center"},[n("v-btn",{attrs:{icon:"",flat:"",color:"blue darken-1",loading:t.likeLoading,disabled:t.likeLoading},on:{click:t.clickLike}},[n("v-icon",[t._v(t._s(t.icon))])],1),n("span",{staticStyle:{"font-size":"18px",color:"#007bff"}},[t._v(t._s(t._animatedLikesCount))])],1)}),c=[],l=n("cebc"),u=n("2f62"),d=n("cffa"),h={name:"LikeIcon",inheritAttrs:!1,data:function(){return{animatedLikesCount:0,likeLoading:!1}},props:{id:{type:Number},likesCount:{type:Number,default:0},liked:{type:Boolean},like:Function,unlike:Function},computed:Object(l["a"])({},Object(u["c"])(["isAuthenticated"]),{_animatedLikesCount:function(){return this.animatedLikesCount},icon:function(){return this.liked?"fas fa-heart":"far fa-heart"}}),created:function(){this.animatedLikesCount=this.likesCount},methods:{clickLike:function(){var t=this;if(this.isAuthenticated){this.likeLoading=!0;var e=this;this.liked?this.unlike(this.id).then(function(){t.$emit("update:likesCount",t.likesCount+(t.liked?-1:1)),t.$emit("update:liked",!t.liked),e.likeLoading=!1},function(t){e.likeLoading=!1}):this.like(this.id).then(function(){t.$emit("update:likesCount",t.likesCount+(t.liked?-1:1)),t.$emit("update:liked",!t.liked),e.likeLoading=!1},function(t){e.likeLoading=!1})}else this.$router.push("/signIn")}},watch:{likesCount:function(t){d["a"].to(this.$data,.5,{animatedLikesCount:t,roundProps:"animatedLikesCount"})}}},f=h,p=n("2877"),m=n("6544"),b=n.n(m),g=n("8336"),v=n("132d"),_=Object(p["a"])(f,s,c,!1,null,"77b09a2f",null),y=_.exports;b()(_,{VBtn:g["a"],VIcon:v["a"]});var k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ml-4 d-flex align-center"},[n("v-icon",{attrs:{color:"blue darken-1"},on:{click:t.gotoComments}},[t._v("mdi-comment-outline")]),n("span",{staticClass:"pl-1",staticStyle:{"font-size":"18px",color:"#007bff"}},[t._v(t._s(t.commentsCount))])],1)},C=[],S=n("db49"),w={name:"CommentIcon",inheritAttrs:!1,props:{id:{type:Number},commentsCount:{type:Number,default:0},mode:{type:String,default:S["a"].LIST}},computed:{_biographyLink:function(){return"/biographies/"+this.id+"#comments"}},methods:{gotoComments:function(){this.mode===S["a"].READ?this.$vuetify.goTo("#comments",{duration:300,offset:0,easing:"easeInOutCubic"}):this.$router.push(this._biographyLink)}}},I=w,O=Object(p["a"])(I,k,C,!1,null,"6d3eac48",null),E=O.exports;b()(O,{VIcon:v["a"]});var T=n("d91a"),x=n("bc3a"),j={like:N,unlike:R};function N(t,e){return x.post(Object(T["b"])("biographies/"+t+"/likes")+(e?"?"+e:""))}function R(t,e){return x.delete(Object(T["b"])("biographies/"+t+"/likes")+(e?"?"+e:""))}var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-speed-dial",{staticClass:"ml-4",staticStyle:{"z-index":"5"},attrs:{direction:"right","open-on-hover":"",transition:"'slide-y-reverse-transition'"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{icon:"",flat:"",color:"blue darken-1"},model:{value:t.shares,callback:function(e){t.shares=e},expression:"shares"}},[n("v-icon",{attrs:{color:"blue darken-1"}},[t._v("mdi-share-outline")])],1)]},proxy:!0}]),model:{value:t.shares,callback:function(e){t.shares=e},expression:"shares"}},[n("share-vkontakte",{attrs:{"page-url":t.pageUrl,"page-title":t.pageTitle,"magick-text":t.magickText}}),n("share-whats-app",{attrs:{"page-url":t.pageUrl,"page-description":t.pageDescription}}),n("share-telegram",{attrs:{"page-url":t.pageUrl,"page-description":t.pageDescription}})],1)},L=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return e.preventDefault(),t.showShareWindow(e)}},scopedSlots:t._u([{key:"loader",fn:function(){return[n("progress-circular",{attrs:{size:20,width:3}})]},proxy:!0}])},[n("v-icon",{staticStyle:{"font-size":"24px"},attrs:{dark:""}},[t._v("fab fa-vk")])],1)},M=[];function D(t,e){t.$emit("onClick",{label:e})}n("a481");function V(){return document.location.href.replace(document.location.hash,"")}function U(){return document.location.href}function B(t){return"".concat((t/1e3).toFixed(1),"k")}function P(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function q(t){window.open(t,"blank")}var H=n("bc3a"),F={getMagick:z};function z(t,e,n){return H.get(Object(T["b"])("magick/"+t)+"?magickText="+encodeURIComponent(e)+"&magickPointSize="+n)}var G=n("22b8"),Y=n("29c5"),K=n("3f55"),Q={name:"ShareVkontakte",components:{ProgressCircular:Y["a"]},props:{pageTitle:{type:String,default:S["o"]},pageUrl:{type:String,default:U},magickText:{type:String,default:S["o"]}},data:function(){return{counterVkontakte:0}},methods:{showShareWindow:function(){var t=this;if(Object(S["r"])()){var e="https://vk.com/share.php?url=".concat(encodeURIComponent(this.$props.pageUrl),"\n              &title=").concat(encodeURIComponent(this.$props.pageTitle));q(e)}else F.getMagick(K["a"].VK,this.magickText,50).then(function(e){var n=G["a"].getShareResourceUrl(e.data.path),i="https://vk.com/share.php?url=".concat(encodeURIComponent(t.$props.pageUrl),"\n              &title=").concat(encodeURIComponent(t.$props.pageTitle),"\n              &image=").concat(encodeURIComponent(n));q(i)});D(this,"vkontakte")},handleUpdateCount:function(t){this.counterVkontakte=t>=1e3?B(t):t},getShareCounter:function(){var t=this;if(!window.VK||!window.VK.Share||"function"!==typeof window.VK.Share.count){var e=document.createElement("script");e.src="https://vk.com/share.php?act=count&index=".concat(P(1,2345),"&url=").concat(encodeURIComponent(this.$props.pageUrl)),document.body.appendChild(e),window.VK=a()({},{Share:{}},window.VK),window.VK.Share.count=function(e,n){n&&t.$root.$emit("VK:Share:count:update",n)}}}},mounted:function(){this.$root.$on("VK:Share:count:update",this.handleUpdateCount.bind(this))},destroyed:function(){this.$root.$off("VK:Share:count:update",this.handleUpdateCount.bind(this))}},W=Q,J=Object(p["a"])(W,$,M,!1,null,"23ab0e20",null),X=J.exports;b()(J,{VBtn:g["a"],VIcon:v["a"]});var Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"green darken-1"},on:{click:function(e){return e.preventDefault(),t.showShareWindow(e)}}},[n("v-icon",{staticStyle:{"font-size":"24px"},attrs:{dark:""}},[t._v("fab fa-whatsapp")])],1)},tt=[],et={name:"ShareWhatsApp",props:{pageUrl:{type:String,default:U},pageDescription:{type:String,default:""}},methods:{showShareWindow:function(){var t=this.pageDescription.replace("@bold","*").replace("@/bold","*"),e="https://wa.me/?text=".concat(encodeURIComponent(this.$props.pageUrl+t));return D(this,"whatsapp"),q(e)}}},nt=et,it=Object(p["a"])(nt,Z,tt,!1,null,"43d6cc98",null),rt=it.exports;b()(it,{VBtn:g["a"],VIcon:v["a"]});var ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"blue lighten-1"},on:{click:function(e){return e.preventDefault(),t.showShareWindow(e)}}},[n("v-icon",{staticStyle:{"font-size":"24px"},attrs:{dark:""}},[t._v("fab fa-telegram")])],1)},at=[],st={name:"ShareTelegram",props:{pageUrl:{type:String,default:V},pageDescription:{type:String,default:""}},methods:{showShareWindow:function(){var t=this.pageDescription.replace("@bold","**").replace("@/bold","**"),e="https://telegram.me/share/url?url=".concat(encodeURIComponent(this.$props.pageUrl),"&text=").concat(encodeURIComponent(t));return D(this,"telegram"),q(e)}}},ct=st,lt=Object(p["a"])(ct,ot,at,!1,null,"6ce15137",null),ut=lt.exports;b()(lt,{VBtn:g["a"],VIcon:v["a"]});var dt={name:"ShareIcon",components:{ShareTelegram:ut,ShareWhatsApp:rt,ShareVkontakte:X},data:function(){return{shares:!1}},props:{pageTitle:{type:String},pageUrl:{type:String,required:!0},pageDescription:{type:String,default:""},magickText:{type:String}}},ht=dt,ft=n("c73b"),pt=Object(p["a"])(ht,A,L,!1,null,"391ee021",null),mt=pt.exports;b()(pt,{VBtn:g["a"],VIcon:v["a"],VSpeedDial:ft["a"]});var bt=n("c7da"),gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{block:"",color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.doAction}},[t._v(t._s(t.action.caption)+"\n  ")]),n("textarea-dialog",{attrs:{ok:t.okFunction,placeholder:"Причина отклонения",visible:t.dialogVisible,"ok-caption":"Ок","required-text":"Введите причину отклонения"},on:{"update:visible":function(e){t.dialogVisible=e}}})],1)},vt=[],_t=(n("06db"),n("7f7f"),n("ba45")),yt=n("0a2a"),kt={name:"ModerationButton",components:{TextareaDialog:yt["a"]},data:function(){return{okFunction:function(){},dialogVisible:!1,loading:!1}},props:{id:{type:Number},action:{type:Object,required:!0},moderator:{type:Object},moderationStatus:{type:Number}},methods:{doAction:function(){switch(this.action.name){case S["i"].ASSIGN_ME:this.assignMe();break;case S["i"].REJECT:this.okFunction=this.reject,this.dialogVisible=!0;break;case S["i"].USER_PENDING:this.okFunction=this.userComplete;break;default:this.complete();break}},updateModeratorInfo:function(t){this.$emit("update:moderator",t.moderator),this.$emit("update:moderatorId",t.moderator.userId),this.$emit("update:actions",t.actions)},assignMe:function(){var t=this;t.loading=!0,_t["a"].assignMe(this.id,{signal:this.action.signal,status:this.moderationStatus}).then(function(e){t.updateModeratorInfo(e.data),t.loading=!1},function(e){if(409===e.response.status){t.updateModeratorInfo(e.response.data);var n=t.moderator,i="<a href=\"'/profile/"+n.userId+'">'+n.firstName+" "+n.lastName+"</a>,&nbsp;уже взял биографию на модерацию.";t.$swal.fire({html:i,type:"error",showCloseButton:!0})}t.loading=!1})},reject:function(t){var e=this;e.dialogVisible=!1,e.loading=!0,_t["a"].complete(this.id,{signal:this.action.signal,status:this.moderationStatus,info:t}).then(function(t){e.$emit("update:moderationInfo",t.data.moderationInfo),e.$emit("update:moderationStatus",t.data.moderationStatus),e.$emit("update:actions",t.data.actions)}).finally(function(){e.loading=!1})},complete:function(){var t=this;t.loading=!0,_t["a"].complete(this.id,{signal:this.action.signal,status:this.moderationStatus}).then(function(e){t.$emit("update:moderationStatus",e.data.moderationStatus),t.$emit("update:actions",e.data.actions),t.$emit("update:moderatorId",e.data.moderatorId),t.$emit("update:moderator",e.data.moderator),t.$emit("update:moderationInfo",e.data.moderationInfo),t.loading=!1},function(e){t.loading=!1})},userComplete:function(){var t=this;t.loading=!0,_t["a"].userComplete(this.id,{signal:this.action.signal,status:this.moderationStatus}).then(function(e){t.$emit("update:moderationStatus",e.data.moderationStatus),t.$emit("update:actions",e.data.actions)}).finally(function(){t.loading=!1})}}},Ct=kt,St=Object(p["a"])(Ct,gt,vt,!1,null,"445721d3",null),wt=St.exports;b()(St,{VBtn:g["a"]});var It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ml-4 d-flex align-center"},[n("v-icon",{staticStyle:{"font-size":"14px"},attrs:{color:"blue darken-1"}},[t._v("fas fa-eye")]),n("span",{staticClass:"pl-1",staticStyle:{"font-size":"14px",color:"#007bff"}},[t._v(t._s(t.viewsCount))])],1)},Ot=[],Et={name:"ViewsCountIcon",inheritAttrs:!1,props:{viewsCount:{type:Number,default:0}}},Tt=Et,xt=Object(p["a"])(Tt,It,Ot,!1,null,"06dfdac5",null),jt=xt.exports;b()(xt,{VIcon:v["a"]});var Nt={name:"BiographyCardActions",inheritAttrs:!1,components:{ViewsCountIcon:jt,ModerationButton:wt,ShareIcon:mt,Like:y,CommentIcon:E},props:{id:Number,firstName:String,lastName:String,middleName:String,disableComments:Boolean,moderatorId:{type:Number},showModerationActions:{type:Boolean,default:!1},actions:{type:Array,default:function(){return[]}}},computed:{_attrs:function(){return a()({},this.$attrs,{id:this.id,firstName:this.firstName,lastName:this.lastName,middleName:this.middleName})},_biographyLink:function(){return"https://bibliographya.com/biographies/"+this.id},_biographyDescription:function(){return Object(bt["q"])(this.firstName,this.lastName,this.middleName)},_biographyTitle:function(){return this.firstName+" "+this.lastName},_magickText:function(){return this.firstName+"\n"+this.lastName}},methods:{like:function(t){return j.like(t)},unlike:function(t){return j.unlike(t)}}},Rt=Nt,At=n("99d9"),Lt=n("0e8f"),$t=n("a722"),Mt=n("9910"),Dt=Object(p["a"])(Rt,i,r,!1,null,"8f5bd9a2",null);e["a"]=Dt.exports;b()(Dt,{VCardActions:At["a"],VFlex:Lt["a"],VLayout:$t["a"],VSpacer:Mt["a"]})},aaee:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{tile:""}},[n("biography-card-title",t._g(t._b({staticClass:"pr-5"},"biography-card-title",t._attrs,!1),t.$listeners)),n("v-divider"),t._showBiography?n("biography-card-text",t._b({staticClass:"pb-1"},"biography-card-text",t._attrs,!1)):t._e(),n("v-divider"),n("biography-card-actions",t._g(t._b({},"biography-card-actions",t._attrs,!1),t.$listeners)),t.showComments?n("biography-comments",t._g(t._b({},"biography-comments",t._attrs,!1),t.listeners)):t._e()],1)},r=[],o=n("5176"),a=n.n(o),s=(n("c5f6"),n("a518")),c=n("d717"),l=n("4441"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("comments",t._g(t._b({attrs:{"add-comment":t.addComment}},"comments",t.$attrs,!1),t.$listeners))},d=[],h=n("d91a"),f=n("bc3a"),p={getComments:v,addComment:g,updateContent:m,deleteComment:b};function m(t,e){return f.put(Object(h["b"])("comments/"+t),{content:e})}function b(t,e){return f.delete(Object(h["b"])("biographies/"+t+"/comments/"+e))}function g(t,e,n){return f.post(Object(h["b"])("biographies/"+t+"/comments")+(n?"?"+n:""),e)}function v(t,e,n,i){return f.get(Object(h["b"])("biographies/"+t+"/comments")+"?limit="+e+"&offset="+n+(i?"&"+i:""))}var _=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("list",t._g(t._b({staticClass:"ml-0 mr-0",attrs:{"infinite-load":t.infiniteLoad,"infinite-id":t.infiniteId,"delete-id":t.deleteId,"delete-index":t.deleteIndex,"reset-id":t.resetId,"add-id":t.addId,"new-item":t.newComment},on:{"update:infiniteId":function(e){t.infiniteId=e},"update:infinite-id":function(e){t.infiniteId=e}},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item,r=e.index;return[n("comment",t._b({on:{"click-reply":function(e){return t.clickReply(i)},"comment-deleted":function(e){return t.commentDeleted(i,r)}}},"comment",i,!1,!0))]}},{key:"error",fn:function(e){var i=e.trigger;return[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("span",{staticClass:"font-weight-bold"},[t._v("\n      Произошла ошибка\n    ")])]),n("v-card-actions",[n("v-btn",{attrs:{block:"",color:"error"},on:{click:i}},[t._v("\n          Попробовать еще раз\n        ")])],1)],1)]}}])},"list",t.$attrs,!1),t.$listeners),[t.disableComments?t._e():n("template",{slot:"footer"},[n("comment-form",t._g(t._b({staticClass:"pl-2",attrs:{"reply-to-comment":t.replyToComment},on:{"comment-added":t.commentAdded,"reset-reply":t.resetReply}},"comment-form",t._attrs,!1),t.$listeners))],1)],2)},y=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return n("v-card",{staticClass:"comment-wrapper pa-2",attrs:{flat:"",id:"_c"+t.id},on:{dblclick:t.reply}},[n("v-card-title",{staticClass:"pa-0",attrs:{"primary-title":""}},[t.parentId?n("div",[n("router-link",{staticClass:"bib-a",attrs:{to:t._authorAccountLink}},[t._v(t._s(t._authorName))]),n("small",{staticClass:"grey--text"},[t._v(" ответил ")]),n("a",{on:{click:function(e){return t.gotoReply()}}},[n("strong",{staticClass:"grey--text"},[t._v(t._s(t._repliedFirstName))])])],1):n("div",[n("router-link",{staticClass:"bib-a",attrs:{to:t._authorAccountLink}},[t._v(t._s(t._authorName))])],1),n("v-spacer"),i||t._showCommentButtons?n("div",[t._showEdit?n("v-icon",{attrs:{small:""},on:{click:t.clickEdit}},[t._v("\n          mdi-pencil\n        ")]):t._e(),t._showRemove?n("v-icon",{staticClass:"ml-1",attrs:{small:""},on:{click:t.doDeleted}},[t._v("\n          fa fa-times\n        ")]):t._e()],1):t._e()],1),n("v-card-text",{staticClass:"pa-0"},[t.edit?n("edit-comment",{attrs:{"comment-id":t.id,content:t.content},on:{cancel:function(e){t.edit=!t.edit},ok:function(e){t.edit=!t.edit},"update:content":function(e){t.content=e}}}):n("div",[t.parentId?n("span",[n("router-link",{staticClass:"bib-a",attrs:{to:t._repliedBiographyLink}},[t._v(t._s(t._repliedFirstName))]),n("span",{domProps:{innerHTML:t._s(", "+t._content)}})],1):n("span",{staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:t._s(t._content)}})]),n("h4",[t._v(t._s(t._getTimeDiff+",")+" "),n("a",{staticClass:"font-weight-regular",on:{click:t.reply}},[t._v("Ответить")])])],1)],1)}}])})},C=[],S=n("cebc"),w=n("db49"),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"pa-0"},[n("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-0 pt-0",attrs:{"auto-grow":"",type:"text","error-messages":t.errors.collect("content"),name:"content"},model:{value:t.editContent,callback:function(e){t.editContent=e},expression:"editContent"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{small:"",flat:"",disabled:t.loading},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Отмена")]),n("v-btn",{staticClass:"primary",attrs:{small:"",loading:t.loading,disabled:t.loading},on:{click:t.doEdit}},[t._v("Сохранить")])],1)],1)},O=[],E={name:"EditComment",inheritAttrs:!1,data:function(){return{loading:!1,editContent:""}},props:{commentId:{type:Number,required:!0},content:{type:String,required:!0}},created:function(){this.editContent=this.content,this.$validator.localize("ru",{custom:{content:{required:function(){return"Введите комментарий"}}}})},methods:{doEdit:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){var n=t;t.loading=!0,p.updateContent(t.commentId,t.editContent).then(function(){n.$emit("update:content",n.editContent),n.$emit("ok"),n.loading=!1},function(t){n.$log.error(t),n.loading=!1})}})}}},T=E,x=n("2877"),j=n("6544"),N=n.n(j),R=n("8336"),A=n("b0af"),L=n("99d9"),$=n("9910"),M=n("a844"),D=Object(x["a"])(T,I,O,!1,null,"6f8dc7a9",null),V=D.exports;N()(D,{VBtn:R["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"],VSpacer:$["a"],VTextarea:M["a"]});var U=n("2f62"),B=n("4c16"),P={name:"Comment",inheritAttrs:!1,data:function(){return{edit:!1,editContent:"",options:{duration:300,offset:100,easing:"easeInOutCubic"}}},props:{id:{type:Number},content:{type:String},createdAt:{type:String},biographyId:{type:Number},userId:{type:Number},parentId:{type:Number},parentDeleted:{type:Boolean},user:{type:Object},parentUser:{type:Object},classes:{type:String}},computed:Object(S["a"])({},Object(U["c"])(["getUserId","isAuthenticated","isAuthorized"]),{_repliedFirstName:function(){return this.parentUser.firstName},_authorName:function(){return this.user.lastName+" "+this.user.firstName},_authorAccountLink:function(){return"/profile/"+this.userId},_repliedBiographyLink:function(){return"/profile/"+this.parentUser.userId},_showCommentButtons:function(){return this.$vuetify.breakpoint.smAndDown},_showEdit:function(){return!this.edit&&(!!this.isAuthenticated&&this.getUserId===this.userId)},_showRemove:function(){return!!this.isAuthenticated&&(this.getUserId===this.userId||(!!this.isAuthorized([w["n"].ROLE_MODERATOR])||this.getUserId===this.userId))},_getTimeDiff:function(){return this.$moment(this.createdAt,w["e"]).fromNow()},_content:function(){return B["a"].parse(this.content)}}),methods:{clickEdit:function(){this.edit=!this.edit,this.editContent=this.content},doDeleted:function(){var t=this;p.deleteComment(this.biographyId,this.id).then(function(){t.$emit("comment-deleted")})},gotoReply:function(){var t="_c"+this.parentId,e=document.getElementById(t);e&&(this.$vuetify.goTo("#"+t,this.options),e.classList.add("highlight"),setTimeout(function(){e.classList.remove("highlight")},2e3))},reply:function(){this.$emit("click-reply")}},components:{EditComment:V}},q=P,H=(n("fa7b"),n("12b2")),F=n("ce87"),z=n("132d"),G=Object(x["a"])(q,k,C,!1,null,"0fcff30a",null),Y=G.exports;N()(G,{VCard:A["a"],VCardText:L["b"],VCardTitle:H["a"],VHover:F["a"],VIcon:z["a"],VSpacer:$["a"]});var K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{attrs:{id:"comments"}},[t.replyToComment?n("div",[t._v("\n    ответ "),n("a",{on:{click:t.gotoReply}},[t._v(t._s(t._replyToFirstName))]),t._v(" \n    "),n("v-icon",{staticStyle:{"font-size":"18px"},on:{click:t.resetReply}},[t._v("fas fa-times")])],1):t._e(),n("div",{staticStyle:{position:"relative","padding-right":"40px"}},[n("v-textarea",{staticClass:"pt-0 mt-0",attrs:{"auto-grow":"",rows:t.rows,placeholder:"Комментарий..."},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.enterPressed(e))}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("v-btn",{staticStyle:{top:"0",right:"0"},attrs:{flat:"",icon:"",color:"blue darken-1",absolute:"",disabled:t.submitting,loading:t.submitting},on:{click:t.submit}},[n("v-icon",[t._v("fas fa-paper-plane")])],1)],1)])},Q=[],W=(n("06db"),{name:"CommentForm",inheritAttrs:!1,data:function(){return{rows:1,content:"",submitting:!1,options:{duration:300,offset:0,easing:"easeInOutCubic"}}},props:{id:{type:Number,required:!0},commentsCount:{type:Number},replyToComment:{type:Object},addComment:Function},computed:Object(S["a"])({},Object(U["c"])(["isAuthenticated"]),{_replyToFirstName:function(){return this.replyToComment.user.firstName}}),methods:{resetReply:function(){this.$emit("reset-reply")},gotoReply:function(){this.$vuetify.goTo("#_c"+this.replyToComment.id,this.options);var t=document.getElementById("_c"+this.replyToComment.id);t.classList.add("blue-grey","lighten-3"),setTimeout(function(){t.classList.remove("blue-grey","lighten-3")},2e3)},enterPressed:function(){this.submit()},submit:function(){if(this.isAuthenticated){var t=this;if(this.content&&""!==this.content){var e={content:this.content};this.replyToComment&&(e.parentId=this.replyToComment.id),t.submitting=!0,this.addComment(this.id,e).then(function(e){t.content="",t.$emit("comment-added",e.data),t.$emit("update:commentsCount",t.commentsCount+1)},function(t){}).finally(function(){t.submitting=!1})}}else this.$router.push("/signIn")}}}),J=W,X=n("4bd4"),Z=Object(x["a"])(J,K,Q,!1,null,"4d213a7f",null),tt=Z.exports;N()(Z,{VBtn:R["a"],VForm:X["a"],VIcon:z["a"],VTextarea:M["a"]});var et=n("f3ce"),nt={name:"Comments",inheritAttrs:!1,data:function(){return{newComment:{},addId:+new Date,deleteId:+new Date,resetId:+new Date,deleteIndex:0,infiniteId:+new Date,replyToComment:null,reply:!1,page:0}},props:{id:{type:Number,required:!0},commentsCount:{type:Number},disableComments:Boolean},computed:{_attrs:function(){return a()({},this.$attrs,{id:this.id,commentsCount:this.commentsCount})}},methods:{commentAdded:function(t){this.newComment=t,++this.addId,this.replyToComment=null,this.$emit("comment-added",t)},commentDeleted:function(t,e){this.deleteIndex=e,++this.deleteId,this.$emit("update:commentsCount",this.commentsCount-1),this.$emit("comment-deleted",t)},clickReply:function(t){this.replyToComment=t,this.$vuetify.goTo("#comments",{duration:300,offset:0,easing:"easeInOutCubic"})},resetReply:function(){this.replyToComment=null},infiniteLoad:function(t,e){return p.getComments(this.id,t,e,"sort=created_at,asc")}},watch:{$route:function(t,e){this.resetId+=1}},components:{List:et["a"],Comment:Y,CommentForm:tt}},it=nt,rt=Object(x["a"])(it,_,y,!1,null,"4c2a0b3b",null),ot=rt.exports;N()(rt,{VBtn:R["a"],VCard:A["a"],VCardActions:L["a"],VCardText:L["b"]});var at={name:"BiographyComments",inheritAttrs:!1,components:{Comments:ot},methods:{addComment:function(t,e){return p.addComment(t,e)}}},st=at,ct=Object(x["a"])(st,u,d,!1,null,"724696ba",null),lt=ct.exports,ut={name:"BiographyCard",inheritAttrs:!1,data:function(){return{availableMore:!1,options:{duration:300,offset:0,easing:"easeInOutCubic"}}},props:{live:{type:Boolean,default:!1},bio:String,likesCount:{type:Number},commentsCount:{type:Number},showComments:{type:Boolean,default:!1}},created:function(){var t=this;this.$route.hash&&this.$nextTick(function(){t.$vuetify.goTo(t.$route.hash,t.options)})},computed:{_showBiography:function(){return!!this.bio},_attrs:function(){return a()({},this.$attrs,{commentsCount:this.commentsCount,likesCount:this.likesCount,availableMore:this.availableMore,bio:this.bio})},listeners:function(){var t=this;return a()({},this.$listeners,{"update:availableMore":function(e){t.availableMore=e}})}},components:{BiographyComments:lt,BiographyCardActions:s["a"],BiographyCardTitle:c["a"],BiographyCardText:l["a"]}},dt=ut,ht=n("ce7e6"),ft=Object(x["a"])(dt,i,r,!1,null,"83fe53f0",null);e["a"]=ft.exports;N()(ft,{VCard:A["a"],VDivider:ht["a"]})},b5cf:function(t,e,n){"use strict";var i=n("77c4"),r=n.n(i);r.a},ba45:function(t,e,n){"use strict";var i=n("d91a"),r=n("bc3a");function o(t,e,n,o,a){var s="limit="+t+"&offset="+e;return o&&(s+="&q="+o),n&&(s+="&biographyClampSize="+n),a&&(s+="&"+a),r.get(Object(i["b"])("biographies/moderation")+"?"+s)}function a(t,e){return r.patch(Object(i["b"])("biographies/"+t+"/moderation/assign-me/"),e)}function s(t,e){return r.patch(Object(i["b"])("biographies/"+t+"/moderation/complete/"),e)}function c(t,e){return r.patch(Object(i["b"])("biographies/"+t+"/moderation/user-complete/"),e)}e["a"]={getBiographies:o,assignMe:a,complete:s,userComplete:c}},bdf0:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-pull-to-wrapper"},[t.topLoadMethod?n("div",[n("div",{staticClass:"action-block",style:{"min-height":"down"===t.direction?t.diff+"px":0}},[n("div",{staticClass:"text-xs-center"},["trigger"===t.state||"pull"===t.state?n("v-icon",{class:{"icon-arrow":"trigger"===t.state},attrs:{color:"light-blue darken-1",small:""}},[t._v("fas fa-arrow-down")]):n("progress-circular",{attrs:{size:26,color:"light-blue darken-1"}})],1)])]):t._e(),n("div",{staticClass:"scroll-container"},[t._t("default")],2),t.bottomLoadMethod?n("div",[n("div",{staticClass:"action-block",staticStyle:{position:"fixed !important",bottom:"0"},style:{"min-height":"up"===t.direction?Math.abs(t.diff)+"px":0}},[n("div",{staticClass:"text-xs-center"},["trigger"===t.state||"pull"===t.state?n("v-icon",{class:{"icon-arrow":"trigger"===t.state},attrs:{color:"light-blue darken-1",small:""}},[t._v("fas fa-arrow-up")]):n("progress-circular",{attrs:{size:26,color:"light-blue darken-1"}})],1)])]):t._e()])},r=[],o=n("5176"),a=n.n(o);n("c5f6");function s(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return function(){var o=this,a=arguments,s=+new Date;clearTimeout(r),n||(n=s),0!==i&&s-n>=i?(t.apply(o,a),n=s):r=setTimeout(function(){t.apply(o,a)},e)}}var c={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:1e3,stayDistance:40,triggerDistance:50},l={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:1e3,stayDistance:60,triggerDistance:50},u=n("29c5"),d={name:"vue-pull-to",components:{ProgressCircular:u["a"]},props:{mode:{type:String,default:"window-scroll"},distanceIndex:{type:Number,default:2},topLoadMethod:{type:Function},bottomLoadMethod:{type:Function},isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!0},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},topConfig:{type:Object,default:function(){return{}}},bottomConfig:{type:Object,default:function(){return{}}}},data:function(){return{passiveSettings:void 0,scrollEl:null,startScrollTop:0,startY:0,startX:0,currentY:0,currentX:0,distance:0,direction:0,diff:0,beforeDiff:0,topText:"",bottomText:"",state:"",bottomReached:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null}},computed:{_topConfig:function(){return a()({},c,this.topConfig)},_bottomConfig:function(){return a()({},l,this.bottomConfig)}},watch:{state:function(t){"down"===this.direction?this.$emit("top-state-change",t):this.$emit("bottom-state-change",t)}},methods:{actionPull:function(){this.state="pull","down"===this.direction?this.topText=this._topConfig.pullText:this.bottomText=this._bottomConfig.pullText},actionTrigger:function(){this.state="trigger","down"===this.direction?this.topText=this._topConfig.triggerText:this.bottomText=this._bottomConfig.triggerText},actionLoading:function(){this.state="loading","down"===this.direction?(this.topText=this._topConfig.loadingText,this.topLoadMethod.call(this,this.actionLoaded),this.scrollTo(this._topConfig.stayDistance)):(this.bottomText=this._bottomConfig.loadingText,this.bottomLoadMethod.call(this,this.actionLoaded),this.scrollTo(-this._bottomConfig.stayDistance))},actionLoaded:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"done";this.state="loaded-".concat(n),"down"===this.direction?(this.topText="done"===n?this._topConfig.doneText:this._topConfig.failText,t=this._topConfig.loadedStayTime):(this.bottomText="done"===n?this._bottomConfig.doneText:this._bottomConfig.failText,t=this._bottomConfig.loadedStayTime),setTimeout(function(){e.scrollTo(0),setTimeout(function(){e.state=""},200)},t)},scrollTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.$el.style.transition="".concat(n,"ms"),this.diff=t,setTimeout(function(){e.$el.style.transition=""},n)},checkBottomReached:function(){return"element-scroll"===this.mode?this.scrollEl.scrollTop+this.scrollEl.offsetHeight+1>=this.scrollEl.scrollHeight:window.scrollY+window.innerHeight>=document.scrollingElement.scrollHeight},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startX=t.touches[0].clientX,this.beforeDiff=this.diff,"element-scroll"===this.mode?this.startScrollTop=this.scrollEl.scrollTop:this.startScrollTop=window.scrollY,this.bottomReached=this.checkBottomReached()},handleTouchMove:function(t){if(this.currentY=t.touches[0].clientY,this.currentX=t.touches[0].clientX,this.distance=(this.currentY-this.startY)/this.distanceIndex+this.beforeDiff,!(Math.abs(this.currentY-this.startY)<Math.abs(this.currentX-this.startX)))if(this.direction=this.distance>0?"down":"up",0===this.startScrollTop&&"down"===this.direction&&this.isTopBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!==typeof this.topLoadMethod)return;this.distance<this._topConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():this.distance>=this._topConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}else if(this.bottomReached&&"up"===this.direction&&this.isBottomBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!==typeof this.bottomLoadMethod)return;Math.abs(this.distance)<this._bottomConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():Math.abs(this.distance)>=this._bottomConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}},handleTouchEnd:function(){0!==this.diff&&("trigger"!==this.state?this.scrollTo(0):this.actionLoading())},handleScroll:function(t){this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t),this.throttleOnInfiniteScroll()},onInfiniteScroll:function(){this.checkBottomReached()&&this.$emit("infinite-scroll")},throttleEmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=function(){var t=Array.prototype.slice.call(arguments);t.unshift(n),this.$emit.apply(this,t)};return s(i,t,e)},bindEvents:function(){this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.scrollEl.addEventListener("touchend",this.handleTouchEnd),this.scrollEl.addEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){this.throttleEmitTopPull=this.throttleEmit(200,300,"top-pull"),this.throttleEmitBottomPull=this.throttleEmit(200,300,"bottom-pull"),this.throttleEmitScroll=this.throttleEmit(100,150,"scroll"),this.throttleOnInfiniteScroll=s(this.onInfiniteScroll,400)},init:function(){this.createThrottleMethods(),this.scrollEl=this.$el.querySelector(".scroll-container"),this.bindEvents()}},mounted:function(){this.init()},beforeDestroy:function(){this.scrollEl.removeEventListener("touchstart",this.handleTouchStart),this.scrollEl.removeEventListener("touchend",this.handleTouchEnd),this.scrollEl.removeEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.scrollEl.removeEventListener("scroll",this.handleScroll)}},h=d,f=(n("6a52"),n("2877")),p=n("6544"),m=n.n(p),b=n("132d"),g=Object(f["a"])(h,i,r,!1,null,"144da97a",null);e["a"]=g.exports;m()(g,{VIcon:b["a"]})},c7da:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"k",function(){return o}),n.d(e,"n",function(){return a}),n.d(e,"l",function(){return s}),n.d(e,"m",function(){return c}),n.d(e,"o",function(){return l}),n.d(e,"p",function(){return u}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"f",function(){return b}),n.d(e,"j",function(){return g}),n.d(e,"q",function(){return v}),n.d(e,"g",function(){return _}),n.d(e,"e",function(){return y});var i=n("0aca"),r="Вы не можете опубликовать пустую биографию. Расскажите нам о себе что нибудь чтобы мы могли ее опубликовать.",o="Ваша биография опубликована. Вы можете ее увидеть в списке биографий.",a="Ваша биография снята с публикации. Она не доступна из списка биографий.",s="Произошла ошибка. Попробуйте повторить позже.",c="Вы совершили слишком много одинаковых действий. Повторите попытку позже.",l="Опубликуйте биографию в разделе Моя биография, чтобы она отображалась в списке биографий.",u="Добро пожаловать!",d="Ошибка создана. Наши разработчики приступят к ее исправлению в самое ближайшее время.",h="Категория создана.",f="Категория изменена.",p="Проверьте подключение к интернету.",m="Пароль успешно изменен.",b="Почта успешно изменена.",g="Телефон успешно изменен.";function v(t,e,n){var r="androgynous";n&&(r=i.detect_gender(n));var o={gender:r,first:t,middle:n,last:e};o=i(o,"genitive");var a=" Перейдите и прочитайте про @bold"+o.last+" "+o.first;return n&&(a+=" "+o.middle),a+="@/bold.",a}var _="Включить комментарии",y="Выключить комментарии"},c8a5:function(t,e,n){"use strict";var i=n("3268"),r=n.n(i);r.a},cc57:function(t,e,n){"use strict";var i=n("cebc"),r=n("500f"),o=n("2f62"),a=n("0828");e["a"]={data:function(){return{HttpStatus:a}},computed:Object(i["a"])({},Object(o["c"])({alertType:"alert/type",alertError:"alert/error",alertMessage:"alert/message"})),methods:Object(i["a"])({},Object(o["b"])({setAlertSuccess:"alert/"+r["j"],setAlertError:"alert/"+r["h"],clearAlert:"alert/"+r["b"]}),{_isError:function(t){var e=this.alertError||{};return e.response&&e.response.status===t}}),beforeDestroy:function(){this.clearAlert()}}},d25c:function(t,e,n){"use strict";var i=n("2d84"),r=n.n(i);r.a},d3bb:function(t,e,n){},d558:function(t,e,n){"use strict";var i=n("4e58"),r=n.n(i);r.a},d6d7:function(t,e,n){},d717:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-title",[n("div",[t.showModerationBlock?n("biography-card-title-moderation",t._b({},"biography-card-title-moderation",t.$attrs,!1)):t._e(),t.showPublish?n("div",[t._v("\n      Публикация: "),n("strong",[t._v(t._s(t._publishTitle))])]):t._e(),n("div",t._l(t.categories,function(e,i){return n("span",{key:i},[n("router-link",{staticClass:"bib-a",attrs:{to:"/categories/"+e.id}},[t._v(t._s(e.name))]),t._v("  \n      ")],1)}),0),t._showAuthor?n("small",{staticClass:"d-block",staticStyle:{color:"#757575"}},[t._v("\n      Автор:\n      "),n("router-link",{staticClass:"bib-a word-break-word",attrs:{to:t._creatorAccountLink}},[n("strong",[t._v(t._s(t._creatorName))])])],1):t._e(),t._isUpdated?n("small",{staticStyle:{color:"#757575"}},[t._v("\n      Создано "),n("strong",[t._v(t._s(t.format(t.createdAt)))]),t._v(", обновлено "),n("strong",[t._v(t._s(t.format(t.updatedAt,!0)))])]):n("small",[t._v("\n      Создано "),n("strong",[t._v(t._s(t.format(t.createdAt)))])]),n("div",{class:{"pt-3":t._showAuthor||t.showPublish||t.showModerationBlock}},[n("span",{staticClass:"word-break-word",class:t._fullNameClasses},[t._v(t._s(t._fullName)+"\n        "),t._isMarked?n("v-icon",{staticClass:"pb-1",attrs:{small:"",color:"blue darken-3"}},[t._v("mdi-check-decagram")]):t._e()],1)]),n("biography-card-menu",t._g(t._b({},"biography-card-menu",t._attrs,!1),t.$listeners))],1)])},r=[],o=n("5176"),a=n.n(o),s=(n("c5f6"),n("db49")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{left:"","close-on-content-click":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({staticClass:"absolute-activator",attrs:{absolute:"",right:"",icon:""}},i),[n("v-icon",{attrs:{small:t.$vuetify.breakpoint.smAndDown,color:"blue darken-3"}},[t._v(t._s(t._icon))])],1)]}}]),model:{value:t.menuVisible,callback:function(e){t.menuVisible=e},expression:"menuVisible"}},[n("v-list",{attrs:{dense:""}},[t._showPublish?n("v-list-tile",{attrs:{disabled:t._isRequest(t.Request.PUBLISH)},on:{click:t.doPublish}},[n("v-list-tile-title",[t._v("\n        "+t._s(t._publishTitle)+"\n      ")])],1):t._e(),t._showDelete?n("v-list-tile",{on:{click:t.remove}},[n("v-list-tile-title",[t._v("Удалить")])],1):t._e(),t._showEdit?n("v-list-tile",{on:{click:t.edit}},[n("v-list-tile-title",[t._v("Редактировать")])],1):t._e(),t._showSuggest?n("v-list-tile",{on:{click:function(e){return e.stopPropagation(),t.suggestFix(e)}}},[n("v-list-tile-title",[t._v("Предложить исправление")])],1):t._e(),t._showAnonymousCreator?n("v-list-tile",{attrs:{disabled:t._isRequest(t.Request.ANONYMOUS_CREATOR)},on:{click:t.setAnonymousCreator}},[n("v-list-tile-title",[t._v("\n        "+t._s(t._anonymousCreatorTitle)+"\n      ")])],1):t._e(),t._showDeleteComments?n("v-list-tile",{attrs:{disabled:t._isRequest(t.Request.DISABLE_COMMENTS)},on:{click:t.doDisableComments}},[n("v-list-tile-title",[t._v(t._s(t._disableCommentsTitle))])],1):t._e()],1),n("create-fix-suggest-dialog",{attrs:{"biography-id":t.id,visible:t.fixDialogVisible},on:{"update:visible":function(e){t.fixDialogVisible=e}}})],1)},l=[],u=(n("06db"),n("cebc")),d=n("2f62"),h=n("7862"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.smAndDown,width:"500"},model:{value:t._visible,callback:function(e){t._visible=e},expression:"_visible"}},[n("v-card",[n("v-card-title",[n("v-spacer"),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.$emit("update:visible",!1)}}},[t._v("fas fa-times")])],1),n("v-card-text",{staticClass:"pb-0"},[n("v-form",[n("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":t.errors.collect("fixText"),name:"fixText",type:"text",placeholder:"Что вы предлагаете исправить?"},model:{value:t.fixText,callback:function(e){t.fixText=e},expression:"fixText"}})],1)],1),n("v-card-actions",[n("v-btn",{staticClass:"primary mt-1",attrs:{block:"",loading:t.loading,disabled:t.loading},on:{click:t.save}},[t._v("\n        Предложить\n      ")])],1)],1)],1)},p=[],m=n("e835"),b={name:"CreateFixSuggestDialog",data:function(){return{fixText:"",loading:!1}},props:{biographyId:{type:Number,required:!0},visible:{type:Boolean,required:!0}},computed:{_visible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},created:function(){this.$validator.localize("ru",{custom:{fixText:{required:function(){return"Введите исправление"}}}})},methods:{save:function(){var t=this,e=this;e.loading=!0,this.$validator.validateAll().then(function(n){n?m["a"].suggest(t.biographyId,t.fixText).then(function(){e.fixText=void 0,e.$emit("update:visible",!1),e.loading=!1},function(t){e.loading=!1}):e.loading=!1})}},watch:{visible:function(){this.fixText=""}}},g=b,v=n("2877"),_=n("6544"),y=n.n(_),k=n("8336"),C=n("b0af"),S=n("99d9"),w=n("12b2"),I=n("169a"),O=n("4bd4"),E=n("132d"),T=n("9910"),x=n("a844"),j=Object(v["a"])(g,f,p,!1,null,"1828b97c",null),N=j.exports;y()(j,{VBtn:k["a"],VCard:C["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:w["a"],VDialog:I["a"],VForm:O["a"],VIcon:E["a"],VSpacer:T["a"],VTextarea:x["a"]});var R=n("c7da"),A=n("cc57"),L=n("8022"),$={name:"BiographyCardMenu",inheritAttrs:!1,mixins:[A["a"],L["a"]],data:function(){return{menuVisible:!1,fixDialogVisible:!1,reportDialogVisible:!1}},props:{id:{type:Number,required:!0},creatorId:{type:Number},userId:{type:Number},onlyInCategory:{type:Boolean},disableComments:{type:Boolean},anonymousCreator:{type:Boolean},publishStatus:{type:Number},moderationStatus:{type:Number}},computed:Object(u["a"])({},Object(d["c"])(["getUserId","isAuthenticated","isAuthorized"]),{_showAnonymousCreator:function(){return this._isIAuthor&&!this.userId},_isIAuthor:function(){return!!this.isAuthenticated&&this.creatorId===this.getUserId},_showDelete:function(){return!this.userId&&(!!this.isAuthenticated&&(!!this.isAuthorized([s["n"].ROLE_MODERATOR])||this.getUserId===this.creatorId))},_showEdit:function(){return!!this.isAuthenticated&&(!!this.isAuthorized([s["n"].ROLE_MODERATOR])||this.getUserId===this.creatorId)},_showSuggest:function(){return!this.isAuthenticated||this.creatorId!==this.getUserId},_icon:function(){return this.$vuetify.breakpoint.mdAndUp?"fas fa-angle-down":"fas fa-ellipsis-h"},_disableCommentsTitle:function(){return this.disableComments?R["g"]:R["e"]},_showDeleteComments:function(){return this._isIAuthor},_showPublish:function(){return this.moderationStatus===s["j"].APPROVED&&(this._isIAuthor||this.isAuthorized([s["n"].ROLE_MODERATOR]))},_publishTitle:function(){return this.publishStatus===s["l"].PUBLISHED?"Снять с публикации":"Опубликовать"},_anonymousCreatorTitle:function(){return this.anonymousCreator?"Показать автора":"Скрыть автора"},_isPublished:function(){return this.publishStatus===s["l"].PUBLISHED}}),methods:{setAnonymousCreator:function(){var t,e=this;e.menuVisible=!1,e.setRequest(s["m"].ANONYMOUS_CREATOR),this.anonymousCreator&&(t=["creatorId"]),h["a"].anonymousCreator(this.id,!this.anonymousCreator,t).then(function(t){e.anonymousCreator?e.$emit("update:creator",t.data.creator):e.$emit("update:creator",null),e.$emit("update:anonymousCreator",!e.anonymousCreator)}).finally(function(){e.clearRequest()})},doPublish:function(){this._isPublished?this.unPublish():this.publish()},publish:function(){var t=this;t.menuVisible=!1,t.setRequest(s["m"].PUBLISH),h["a"].publish(this.id).then(function(){t.$emit("update:publishStatus",s["l"].PUBLISHED),t.setAlertSuccess(R["k"])},function(e){400===e.response.status&&t.$swal.fire({text:R["b"],type:"error",showCloseButton:!0})}).finally(function(){t.clearRequest()})},unPublish:function(){var t=this;t.menuVisible=!1,t.setRequest(s["m"].PUBLISH),h["a"].unPublish(this.id).then(function(){t.$emit("update:publishStatus",s["l"].NOT_PUBLISHED),t.setAlertSuccess(R["n"])}).finally(function(){t.clearRequest()})},doDisableComments:function(){var t=this,e=this;e.menuVisible=!1,e.setRequest(s["m"].DISABLE_COMMENTS),h["a"].disableComments(this.id,!this.disableComments).then(function(){t.$emit("update:disableComments",!e.disableComments)}).finally(function(){e.clearRequest()})},suggestFix:function(){this.menuVisible=!1,this.isAuthenticated||this.$router.push("/signIn"),this.fixDialogVisible=!0},remove:function(){var t=this;t.menuVisible=!1,h["a"].deleteBiography(this.id).then(function(){t.$emit("biography-removed",t.id)})},edit:function(){this.$router.push("/edit/biographies/"+this.id)}},components:{CreateFixSuggestDialog:N}},M=$,D=(n("d25c"),n("8860")),V=n("ba95"),U=n("5d23"),B=n("e449"),P=Object(v["a"])(M,c,l,!1,null,"a1d86b3e",null),q=P.exports;y()(P,{VBtn:k["a"],VIcon:E["a"],VList:D["a"],VListTile:V["a"],VListTileTitle:U["b"],VMenu:B["a"]});var H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._showModerator?n("div",[n("span",[t._v("\n    Исполнитель: \n    "),n("router-link",{staticClass:"bib-a word-break-word",attrs:{to:t._accountLink}},[t._v(t._s(t._moderatorName))])],1)]):t._e(),n("div",[n("span",[t._v("\n    Статус: \n    "),n("strong",[t._v(t._s(t._moderationStatus))])])]),t.moderationInfo?n("div",[n("span",{staticClass:"font-weight-bold",staticStyle:{color:"red"}},[t._v("Причина отклонения:")]),t._v("\n    "+t._s(t.moderationInfo)+"\n  ")]):t._e()])},F=[],z={name:"BiographyCardTitleModeration",inheritAttrs:!1,props:{showModerator:{type:Boolean,default:!1},moderator:{type:Object},moderationStatus:{type:Number},moderationInfo:{type:String}},computed:{_showModerator:function(){return this.moderator&&this.showModerator},_moderatorName:function(){return this.moderator.lastName+" "+this.moderator.firstName},_accountLink:function(){return this.moderator?"/profile/"+this.moderator.userId:""},_moderationStatus:function(){var t=this.moderationStatus;if(void 0!==t)switch(t){case s["j"].PENDING:return"В обработке";case s["j"].APPROVED:return"Одобрено";case s["j"].REJECTED:return"Отклонено"}return""}}},G=z,Y=Object(v["a"])(G,H,F,!1,null,"61c8a14d",null),K=Y.exports,Q={name:"BiographyCardTitle",inheritAttrs:!1,props:{categories:{type:Array,default:function(){return[]}},userId:{type:Number},firstName:{type:String,default:""},lastName:{type:String,default:""},publishStatus:{type:Number},middleName:{type:String,default:""},creatorId:{type:Number},creator:{type:Object},showPublish:{type:Boolean,default:!1},showModerationBlock:{type:Boolean,default:!1},anonymousCreator:{type:Boolean,default:!1},createdAt:{type:String,required:!0},updatedAt:{type:String,required:!0}},computed:{_attrs:function(){return a()({},this.$attrs,{categories:this.categories,creatorId:this.creatorId,creator:this.creator,userId:this.userId,publishStatus:this.publishStatus,firstName:this.firstName,lastName:this.lastName,middleName:this.middleName,anonymousCreator:this.anonymousCreator})},_fullNameClasses:function(){return{title:!0}},_isMarked:function(){return this.userId},_fullName:function(){var t=this.lastName+" "+this.firstName;return this.middleName?t+" "+this.middleName:t},_creatorAccountLink:function(){return this.creator?"/profile/"+this.creator.userId:""},_creatorName:function(){return this.creator.firstName+" "+this.creator.lastName},_showAuthor:function(){return!this.anonymousCreator},_publishTitle:function(){return this.publishStatus===s["l"].PUBLISHED?"Опубликовано":"Снято с публикации"},_isUpdated:function(){var t=this.$moment(this.updatedAt,s["e"]),e=this.$moment(this.createdAt,s["e"]);return t>e}},methods:{format:function(t,e){return e?this.$moment(t,s["e"]).format("DD MMMM YYYY h:mm"):this.$moment(t,s["e"]).format("DD MMMM YYYY")}},components:{BiographyCardTitleModeration:K,BiographyCardMenu:q}},W=Q,J=Object(v["a"])(W,i,r,!1,null,"62f8c1b7",null);e["a"]=J.exports;y()(J,{VCardTitle:w["a"],VIcon:E["a"]})},d91a:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var i=n("db49"),r=function(t){return Object(i["r"])(),"".concat("https://bibliographya.com:8000/api/").concat(t)},o=function(t){return Object(i["r"])(),"".concat("https://bibliographya.com:8000/").concat(t)},a="404.jpg"},db49:function(t,e,n){"use strict";n.d(e,"n",function(){return i}),n.d(e,"m",function(){return r}),n.d(e,"o",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"j",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"l",function(){return u}),n.d(e,"k",function(){return d}),n.d(e,"i",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"f",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"q",function(){return b}),n.d(e,"a",function(){return g}),n.d(e,"h",function(){return v}),n.d(e,"p",function(){return _}),n.d(e,"r",function(){return y});var i={ALL:"*",ROLE_ADMIN:"ROLE_ADMIN",ROLE_USER:"ROLE_USER",ROLE_MODERATOR:"ROLE_MODERATOR",ROLE_DEVELOPER:"ROLE_DEVELOPER"},r={NONE:-1,SIGN_IN:0,SIGN_UP:1,GET_ACCOUNT:2,CONFIRM_SIGN_UP_START:3,RESEND_CODE:4,RESTORE_PASSWORD:5,VERIFY:6,CHANGE_PASSWORD:7,SAVE_PASSWORD:8,CHANGE_EMAIL:9,SAVE_EMAIL:10,LOADING_SETTINGS:11,SIGN_OUT:12,CONFIRM_SIGN_UP_FINISH:13,DISABLE_COMMENTS:14,ANONYMOUS_CREATOR:15,PUBLISH:16,CHANGE_PHONE:17,SAVE_PHONE:18,OAUTH_REQUEST:19},o="Биографии",a="DD-MM-YYYY HH:mm:ss.SSSSSS",s={PENDING:0,CLOSED:1,IGNORED:2},c={PENDING:0,APPROVED:1,REJECTED:2},l={PENDING:0,CLOSED:1,IGNORED:2},u={PUBLISHED:1,NOT_PUBLISHED:0},d={ALERT:"alert"},h={ASSIGN_ME:"AssignMe",REJECT:"Reject",USER_PENDING:"UserPending"},f={ASSIGN_ME:"AssignMe",IGNORE:"Ignore"},p={ASSIGN_ME:"AssignMe",IGNORE:"Ignore"},m=500,b=4,g={READ:"read",LIST:"list"},v=52534486,_="x-token",y=function(){return!0}},df88:function(t,e,n){"use strict";var i=n("3e14"),r=n.n(i);r.a},e835:function(t,e,n){"use strict";var i=n("d91a"),r=n("bc3a");function o(t,e,n,o){var a="limit="+t+"&offset="+e;return o&&(a+="&q="+o),n&&(a+="&biographyClampSize="+n),r.get(Object(i["b"])("fixes")+"?"+a)}function a(t,e){return r.post(Object(i["b"])("biographies/"+t+"/fixes"),{fixText:e})}function s(t,e){return r.patch(Object(i["b"])("fixes/"+t+"/assign-me/"),e)}function c(t,e){return r.patch(Object(i["b"])("fixes/"+t+"/complete/"),e)}e["a"]={getFixes:o,suggest:a,assignMe:s,complete:c}},f36b:function(t,e,n){"use strict";var i=n("fa88"),r=n.n(i);r.a},f3ce:function(t,e,n){"use strict";var i=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("v-layout",{attrs:{row:"",wrap:""}},[e.headerSlot?i("v-flex",{attrs:{xs12:""}},[e._t("header")],2):e._e(),i("v-flex",e._b({},"v-flex",(t={},t["xs"+e.rootFlex]=!0,t),!1),[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[e.hasListHeaderSlot?i("v-flex",{attrs:{xs12:""}},[e._t("listHeader")],2):e._e(),e._l(e.items,function(t,n){var r;return i("v-flex",e._b({key:t.id},"v-flex",(r={},r["xs"+e.itemFlex(t)]=!0,r),!1),[e._t("item",null,{item:t,index:n})],2)}),i("v-flex",{attrs:{xs12:"",md6:""}},[i("infinite-loading",{staticStyle:{width:"100%"},attrs:{identifier:e.infiniteId},on:{infinite:e.load},scopedSlots:e._u([{key:"error",fn:function(t){var n=t.trigger;return i("div",{},[e._t("error",[i("error-card",{attrs:{trigger:n}})],{trigger:n})],2)}}],null,!0)},[i("template",{slot:"spinner"},[i("progress-circular")],1),i("div",{style:e.loadMoreStyles,attrs:{slot:"no-more"},slot:"no-more"},[i("a",{on:{click:e.loadMore}},[e._v("Показать еще")])]),i("div",{attrs:{slot:"no-results"},slot:"no-results"},[e._t("no-results")],2)],2)],1),e.hasFooterSlot?i("v-flex",{attrs:{xs12:""}},[e._t("footer")],2):e._e()],2)],1),e.mdSidebar?i("v-flex",{attrs:{xs4:""}},[e._t("sidebar")],2):e._e(),e.smSidebar?i("v-menu",{attrs:{"content-class":"fab-menu","close-on-content-click":!1}},[i("v-btn",{staticStyle:{"z-index":"3"},attrs:{slot:"activator",color:"red darken-2",dark:"",bottom:"",right:"",fixed:"",fab:"",small:""},slot:"activator"},[i("v-icon",{attrs:{small:""}},[e._v("fas fa-search")])],1),e._t("smSidebar")],2):e._e()],1)},r=[],o=n("75fc"),a=(n("c5f6"),n("bc3a")),s=a.CancelToken,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",{staticClass:"text-xs-center"},[t.isOnline?n("span",{staticClass:"font-weight-bold"},[t._v("\n      Произошла ошибка\n    ")]):n("span",{staticClass:"font-weight-bold"},[t._v("\n      Отсутствует подключение к Интернету\n    ")])]),n("v-card-actions",{staticStyle:{"justify-content":"center"}},[n("v-btn",{attrs:{block:"",color:"error"},on:{click:t.trigger}},[t._v("\n      Попробовать еще раз\n    ")])],1)],1)},l=[],u={name:"ErrorCard",props:{trigger:{type:Function,required:!0}}},d=u,h=n("2877"),f=n("6544"),p=n.n(f),m=n("8336"),b=n("b0af"),g=n("99d9"),v=Object(h["a"])(d,c,l,!1,null,"2da4368e",null),_=v.exports;p()(v,{VBtn:m["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"]});var y=n("29c5"),k=n("cebc"),C=n("9fb0"),S=n("2f62"),w={methods:Object(k["a"])({},Object(S["d"])({setPullToLoadMore:C["h"],removePullToLoadMore:C["c"]})),computed:Object(k["a"])({},Object(S["c"])(["pullToLoadMoreMethod"])),mounted:function(){this.setPullToLoadMore(this.pullToLoadMore)},beforeDestroy:function(){this.removePullToLoadMore()}},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"infinite-loading-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSpinner,expression:"isShowSpinner"}],staticClass:"infinite-status-prompt",style:t.slotStyles.spinner},[t._t("spinner")],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNoResults,expression:"isShowNoResults"}],staticClass:"infinite-status-prompt",style:t.slotStyles.noResults},[t._t("no-results",[t.slots.noResults.render?n(t.slots.noResults,{tag:"component"}):[t._v(t._s(t.slots.noResults))]])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNoMore,expression:"isShowNoMore"}],staticClass:"infinite-status-prompt",style:t.slotStyles.noMore},[t._t("no-more",[t.slots.noMore.render?n(t.slots.noMore,{tag:"component"}):[t._v(t._s(t.slots.noMore))]])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowError,expression:"isShowError"}],staticClass:"infinite-status-prompt",style:t.slotStyles.error},[t._t("error",[t.slots.error.render?n(t.slots.error,{tag:"component",attrs:{trigger:t.attemptLoad}}):[t._v("\n        "+t._s(t.slots.error)+"\n        "),n("br"),n("button",{staticClass:"btn-try-infinite",domProps:{textContent:t._s(t.slots.errorBtnText)},on:{click:t.attemptLoad}})]],{trigger:t.attemptLoad})],2)])},O=[],E=(n("7f7f"),n("a4bb")),T=n.n(E),x=n("85f2"),j=n.n(x),N={spinner:"default",distance:100,forceUseInfiniteWrapper:!1},R={throttleLimit:50,loopCheckTimeout:1e3,loopCheckMaxCalls:10},A={noResults:"No results :(",noMore:"No more data :)",error:"Opps, something went wrong :(",errorBtnText:"Retry",spinner:""},L=function(){var t=!1;try{var e=j()({},"passive",{get:function(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch(n){}return t}(),$={STATE_CHANGER:["emit `loaded` and `complete` event through component instance of `$refs` may cause error, so it will be deprecated soon, please use the `$state` argument instead (`$state` just the special `$event` variable):","\ntemplate:",'<infinite-loading @infinite="infiniteHandler"></infinite-loading>',"\nscript:\n...\ninfiniteHandler($state) {\n  ajax('https://www.example.com/api/news')\n    .then((res) => {\n      if (res.data.length) {\n        $state.loaded();\n      } else {\n        $state.complete();\n      }\n    });\n}\n...","","more details: https://github.com/PeachScript/vue-infinite-loading/issues/57#issuecomment-324370549"].join("\n"),INFINITE_EVENT:"`:on-infinite` property will be deprecated soon, please use `@infinite` event instead.",IDENTIFIER:"the `reset` event will be deprecated soon, please reset this component by change the `identifier` property."},M={INFINITE_LOOP:["executed the callback function more than ".concat(R.loopCheckMaxCalls," times for a short time, it looks like searched a wrong scroll wrapper that doest not has fixed height or maximum height, please check it. If you want to force to set a element as scroll wrapper ranther than automatic searching, you can do this:"),'\n\x3c!-- add a special attribute for the real scroll wrapper --\x3e\n<div infinite-wrapper>\n  ...\n  \x3c!-- set force-use-infinite-wrapper --\x3e\n  <infinite-loading force-use-infinite-wrapper></infinite-loading>\n</div>\nor\n<div class="infinite-wrapper">\n  ...\n  \x3c!-- set force-use-infinite-wrapper as css selector of the real scroll wrapper --\x3e\n  <infinite-loading force-use-infinite-wrapper=".infinite-wrapper"></infinite-loading>\n</div>\n    ',"more details: https://github.com/PeachScript/vue-infinite-loading/issues/55#issuecomment-316934169"].join("\n")},D={READY:0,LOADING:1,COMPLETE:2,ERROR:3},V={color:"#666",fontSize:"14px",padding:"10px 0"},U={mode:"development",props:N,system:R,slots:A,WARNINGS:$,ERRORS:M,STATUS:D};n("a481");function B(t){"production"!==U.mode&&console.warn("[Vue-infinite-loading warn]: ".concat(t))}function P(t){console.error("[Vue-infinite-loading error]: ".concat(t))}var q={timers:[],caches:[],throttle:function(t){var e=this;-1===this.caches.indexOf(t)&&(this.caches.push(t),this.timers.push(setTimeout(function(){t(),e.caches.splice(e.caches.indexOf(t),1),e.timers.shift()},U.system.throttleLimit)))},reset:function(){this.timers.forEach(function(t){clearTimeout(t)}),this.timers.length=0,this.caches=[]}},H={isChecked:!1,timer:null,times:0,track:function(){var t=this;this.times+=1,clearTimeout(this.timer),this.timer=setTimeout(function(){t.isChecked=!0},U.system.loopCheckTimeout),this.times>U.system.loopCheckMaxCalls&&(P(M.INFINITE_LOOP),this.isChecked=!0)}},F={key:"_infiniteScrollHeight",getScrollElm:function(t){return t===window?document.documentElement:t},save:function(t){var e=this.getScrollElm(t);e[this.key]=e.scrollHeight},restore:function(t){var e=this.getScrollElm(t);"number"===typeof e[this.key]&&(e.scrollTop=e.scrollHeight-e[this.key]+e.scrollTop),this.remove(e)},remove:function(t){void 0!==t[this.key]&&delete t[this.key]}};function z(t){return t.replace(/[A-Z]/g,function(t){return"-".concat(t.toLowerCase())})}function G(t){return t.offsetWidth+t.offsetHeight>0}var Y={name:"InfiniteLoading",data:function(){return{scrollParent:null,scrollHandler:null,isFirstLoad:!0,status:D.READY,slots:U.slots}},computed:{isShowSpinner:function(){return this.status===D.LOADING},isShowError:function(){return this.status===D.ERROR},isShowNoResults:function(){return this.status===D.COMPLETE&&this.isFirstLoad},isShowNoMore:function(){return this.status===D.COMPLETE&&!this.isFirstLoad},slotStyles:function(){var t=this,e={};return T()(U.slots).forEach(function(n){var i=z(n);(!t.$slots[i]&&!U.slots[n].render||t.$slots[i]&&!t.$slots[i][0].tag)&&(e[n]=V)}),e}},props:{distance:{type:Number,default:U.props.distance},spinner:String,direction:{type:String,default:"bottom"},forceUseInfiniteWrapper:{type:[Boolean,String],default:U.props.forceUseInfiniteWrapper},identifier:{default:+new Date},onInfinite:Function},watch:{identifier:function(){this.stateChanger.reset()}},mounted:function(){var t=this;this.$watch("forceUseInfiniteWrapper",function(){t.scrollParent=t.getScrollParent()},{immediate:!0}),this.scrollHandler=function(e){t.status===D.READY&&(e&&e.constructor===Event&&G(t.$el)?q.throttle(t.attemptLoad):t.attemptLoad())},setTimeout(function(){t.scrollHandler(),t.scrollParent.addEventListener("scroll",t.scrollHandler,L)},1),this.$on("$InfiniteLoading:loaded",function(e){t.isFirstLoad=!1,"top"===t.direction&&t.$nextTick(function(){F.restore(t.scrollParent)}),t.status===D.LOADING&&t.$nextTick(t.attemptLoad.bind(null,!0)),e&&e.target===t||B($.STATE_CHANGER)}),this.$on("$InfiniteLoading:complete",function(e){t.status=D.COMPLETE,t.$nextTick(function(){t.$forceUpdate()}),t.scrollParent.removeEventListener("scroll",t.scrollHandler,L),e&&e.target===t||B($.STATE_CHANGER)}),this.$on("$InfiniteLoading:reset",function(e){t.status=D.READY,t.isFirstLoad=!0,F.remove(t.scrollParent),t.scrollParent.addEventListener("scroll",t.scrollHandler,L),setTimeout(function(){q.reset(),t.scrollHandler()},1),e&&e.target===t||B($.IDENTIFIER)}),this.stateChanger={loaded:function(){t.$emit("$InfiniteLoading:loaded",{target:t})},complete:function(){t.$emit("$InfiniteLoading:complete",{target:t})},reset:function(){t.$emit("$InfiniteLoading:reset",{target:t})},error:function(){t.status=D.ERROR,q.reset()}},this.onInfinite&&B($.INFINITE_EVENT)},deactivated:function(){this.status===D.LOADING&&(this.status=D.READY),this.scrollParent.removeEventListener("scroll",this.scrollHandler,L)},activated:function(){this.scrollParent.addEventListener("scroll",this.scrollHandler,L)},methods:{attemptLoad:function(t){var e=this;this.status!==D.COMPLETE&&G(this.$el)&&this.getCurrentDistance()<=this.distance?(this.status=D.LOADING,"top"===this.direction&&this.$nextTick(function(){F.save(e.scrollParent)}),"function"===typeof this.onInfinite?this.onInfinite.call(null,this.stateChanger):this.$emit("infinite",this.stateChanger),!t||this.forceUseInfiniteWrapper||H.isChecked||H.track()):this.status===D.LOADING&&(this.status=D.READY)},getCurrentDistance:function(){var t;if("top"===this.direction)t="number"===typeof this.scrollParent.scrollTop?this.scrollParent.scrollTop:this.scrollParent.pageYOffset;else{var e=this.$el.getBoundingClientRect().top,n=this.scrollParent===window?window.innerHeight:this.scrollParent.getBoundingClientRect().bottom;t=e-n}return t},getScrollParent:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$el;return window}},destroyed:function(){!this.status!==D.COMPLETE&&(q.reset(),F.remove(this.scrollParent),this.scrollParent.removeEventListener("scroll",this.scrollHandler,L))}},K=Y,Q=(n("a41c"),Object(h["a"])(K,I,O,!1,null,"5ae6f190",null)),W=Q.exports,J=n("bc3a"),X=n.n(J),Z={name:"List",mixins:[w],components:{ProgressCircular:y["a"],ErrorCard:_,InfiniteLoading:W},inheritAttrs:!1,data:function(){return{loading:!1,activeRequest:void 0,limit:50,offset:0,items:[]}},props:{headerSlot:{type:Boolean,default:!1},availableMore:{type:Boolean,default:!1},resetId:{type:Number},addId:{type:Number},newItem:{type:Object},deleteId:{type:Number},deleteIndex:{type:Number},infiniteId:{type:Number},infiniteLoad:{type:Function}},methods:{pullToLoadMore:function(t){if(this.isOffline)t("done");else{var e={loaded:function(){t("done")},complete:function(){t("done")},error:function(){t("done")}};this.load(e)}},itemFlex:function(t){return t.flex?t.flex:12},loadMore:function(){this.$emit("update:availableMore",!1),this.$emit("update:infiniteId",this.infiniteId+1)},load:function(t){if(!this.loading){this.loading=!0,this.activeRequest=s.source();var e=this;this.infiniteLoad(this.limit,this.offset,this.activeRequest.token).then(function(n){var i;200===n.status?((i=e.items).push.apply(i,Object(o["a"])(n.data.content)),e.offset+=n.data.content.length,t.loaded()):(t.complete(),e.activeRequest=void 0,e.$emit("update:availableMore",!1));e.loading=!1},function(n){X.a.isCancel(n)||(t.error(),e.loading=!1)})}}},computed:{rootFlex:function(){return this.hasSidebarSlot&&this.$vuetify.breakpoint.mdAndUp?8:12},mdSidebar:function(){return this.hasSidebarSlot&&this.$vuetify.breakpoint.mdAndUp},smSidebar:function(){return this.hasSmSidebarSlot&&this.$vuetify.breakpoint.smAndDown},hasListHeaderSlot:function(){return!!this.$slots.listHeader},loadMoreStyles:function(){return this.availableMore?{}:{display:"none"}},hasFooterSlot:function(){return!!this.$slots.footer},hasSidebarSlot:function(){return!!this.$slots.sidebar},hasSmSidebarSlot:function(){return!!this.$slots.smSidebar}},watch:{availableMore:function(){this.availableMore&&0===this.items.length&&this.loadMore()},addId:function(){this.items.push(this.newItem)},deleteId:function(){this.items.splice(this.deleteIndex,1),0===this.items.length&&this.$emit("update:infiniteId",this.infiniteId+1)},resetId:function(){this.activeRequest&&(this.activeRequest.cancel(),this.activeRequest=void 0),this.loading=!1,this.items=[],this.offset=0,window.scrollTo(0,0),this.$emit("update:infiniteId",this.infiniteId+1)}}},tt=Z,et=(n("f9f7"),n("0e8f")),nt=n("132d"),it=n("a722"),rt=n("e449"),ot=Object(h["a"])(tt,i,r,!1,null,"5695b89a",null);e["a"]=ot.exports;p()(ot,{VBtn:m["a"],VFlex:et["a"],VIcon:nt["a"],VLayout:it["a"],VMenu:rt["a"]})},f9f7:function(t,e,n){"use strict";var i=n("518a"),r=n.n(i);r.a},fa7b:function(t,e,n){"use strict";var i=n("d6d7"),r=n.n(i);r.a},fa88:function(t,e,n){},fb8f:function(t,e,n){}});